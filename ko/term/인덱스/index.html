<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ë±ìŠ¤ (Index) | KAITRUST AI ë°±ê³¼ì‚¬ì „</title>
    <meta name="description" content="ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. B-Tree, Hash, GIN ë“± ë‹¤ì–‘í•œ ìœ í˜•ìœ¼ë¡œ ì¿¼ë¦¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.">
    <meta name="keywords" content="ì¸ë±ìŠ¤, Index, B-Tree, ë°ì´í„°ë² ì´ìŠ¤, PostgreSQL, MySQL, ì¿¼ë¦¬ ìµœì í™”, ì„±ëŠ¥, AI ìš©ì–´, KAITRUST">
    <link rel="canonical" href="https://glossary.kaitrust.ai/ko/term/ì¸ë±ìŠ¤/">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://glossary.kaitrust.ai/ko/term/ì¸ë±ìŠ¤/">
    <meta property="og:title" content="ì¸ë±ìŠ¤ (Index) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta property="og:description" content="ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.">
    <meta property="og:image" content="https://kaitrust.ai/images/og-glossary.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="KAITRUST AI ë°±ê³¼ì‚¬ì „">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ì¸ë±ìŠ¤ (Index) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta name="twitter:description" content="ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.">
    <meta name="twitter:image" content="https://kaitrust.ai/images/og-glossary.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "DefinedTerm",
        "name": "ì¸ë±ìŠ¤",
        "alternateName": "Index",
        "description": "ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ë¡œ, B-Tree, Hash ë“± ë‹¤ì–‘í•œ ìœ í˜•ì´ ìˆìŠµë‹ˆë‹¤.",
        "inDefinedTermSet": {
            "@type": "DefinedTermSet",
            "name": "KAITRUST AI ë°±ê³¼ì‚¬ì „",
            "url": "https://glossary.kaitrust.ai/"
        }
    }
    </script>

    <link rel="icon" type="image/png" href="https://kaitrust.ai/favicon.png">
    <link rel="apple-touch-icon" href="https://kaitrust.ai/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/kaitrust-common.css">
    <link rel="stylesheet" href="/css/light-mode.css">
    <link rel="stylesheet" href="/components/ask-ai/kaitrust-ai-modal.css">

    <style>
        /* ê³ ë„í™” ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .term-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(168, 85, 247, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }
        .section-content p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        .section-content p:last-child { margin-bottom: 0; }

        /* ì½”ë“œ ë¸”ë¡ */
        .code-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .code-tab {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.2s;
        }
        .code-tab.active {
            background: rgba(168, 85, 247, 0.2);
            border-color: #a855f7;
            color: #a855f7;
        }
        .code-block {
            position: relative;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            display: none;
        }
        .code-block.active { display: block; }
        .code-block pre { padding: 1.5rem; margin: 0; overflow-x: auto; }
        .code-block code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            line-height: 1.6;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.3);
            border: none;
            border-radius: 6px;
            color: #e2e8f0;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        .copy-btn:hover { background: rgba(168, 85, 247, 0.5); }

        /* ëŒ€í™” ì˜ˆì‹œ */
        .conversation-examples { display: flex; flex-direction: column; gap: 1.5rem; }
        .conv-item { background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 1.25rem; }
        .conv-context { font-size: 0.9rem; color: #a855f7; font-weight: 500; margin-bottom: 0.75rem; }
        .conv-quote {
            color: #e2e8f0;
            font-style: italic;
            line-height: 1.7;
            margin: 0;
            padding-left: 1rem;
            border-left: 3px solid #a855f7;
        }

        /* ì£¼ì˜ì‚¬í•­ */
        .warning-list { display: flex; flex-direction: column; gap: 1rem; }
        .warning-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        .warning-icon { font-size: 1.5rem; }
        .warning-item strong { color: #f1f5f9; display: block; margin-bottom: 0.25rem; }
        .warning-item p { color: #94a3b8; margin: 0; font-size: 0.95rem; }

        /* ê´€ë ¨ ìš©ì–´ */
        .related-terms { display: flex; flex-wrap: wrap; gap: 0.75rem; }
        .related-term-link {
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.1);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 20px;
            color: #a855f7;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .related-term-link:hover { background: rgba(168, 85, 247, 0.2); transform: translateY(-2px); }

        /* ë” ë°°ìš°ê¸° */
        .learn-more { display: flex; flex-direction: column; gap: 0.75rem; }
        .learn-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            color: #00f5ff;
            text-decoration: none;
            transition: all 0.2s;
        }
        .learn-link:hover { background: rgba(0, 0, 0, 0.3); transform: translateX(5px); }

        .term-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 2rem 4rem;
            position: relative;
            z-index: 1;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }
        .breadcrumb a { color: #64748b; text-decoration: none; transition: color 0.2s; }
        .breadcrumb a:hover { color: var(--primary); }
        .breadcrumb span { color: #64748b; }
        .breadcrumb .current { color: var(--accent); font-weight: 500; }
        .term-detail-header {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.6));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 24px;
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        .term-category-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #a855f7;
            margin-bottom: 1rem;
        }
        .term-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .term-english { font-size: 1.2rem; color: #94a3b8; margin-bottom: 1.5rem; }
        .term-description { font-size: 1.1rem; line-height: 1.8; color: #e2e8f0; }
        .term-actions { display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap; }
        .term-action-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.3s;
        }
        .btn-primary { background: linear-gradient(135deg, #a855f7, #6366f1); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3); }
        .btn-secondary { background: rgba(255, 255, 255, 0.1); color: #e2e8f0; border: 1px solid rgba(255, 255, 255, 0.2); }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
        @media (max-width: 768px) {
            .term-detail-container { padding: 100px 1rem 2rem; }
            .term-detail-header { padding: 2rem 1.5rem; }
            .term-title { font-size: 1.8rem; }
        }
    </style>
    <link rel="stylesheet" href="/glossary/css/term-sections.css">

</head>
<body>
    <!-- Particle Background -->
    <div class="particle-container" id="particles"></div>

    <!-- Header -->
        <div id="kaitrust-header"></div>

    <main class="term-detail-container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="https://kaitrust.ai">í™ˆ</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai">AI ë°±ê³¼ì‚¬ì „</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai/#db">ë°ì´í„°ë² ì´ìŠ¤</a>
            <span>â€º</span>
            <span class="current">ì¸ë±ìŠ¤</span>
        </nav>

        <!-- Term Header -->
        <article class="term-detail-header">
            <div class="term-category-badge">
                <span>ğŸ—„ï¸</span>
                <span>ë°ì´í„°ë² ì´ìŠ¤</span>
            </div>
            <h1 class="term-title">ì¸ë±ìŠ¤</h1>
            <p class="term-english">Index</p>
            <div class="term-description">
                <p>ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. ì±…ì˜ ìƒ‰ì¸ì²˜ëŸ¼ íŠ¹ì • ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë³„ë„ì˜ êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ ì¿¼ë¦¬ ì„±ëŠ¥ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p>
            </div>
            <div class="term-actions">
                <a href="https://glossary.kaitrust.ai" class="term-action-btn btn-primary">
                    ğŸ“š ì „ì²´ ìš©ì–´ ë³´ê¸°
                </a>
                <a href="https://glossary.kaitrust.ai/#db" class="term-action-btn btn-secondary">
                    ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë”ë³´ê¸°
                </a>
            </div>
        </article>

        <!-- ìƒì„¸ ì„¤ëª… -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“– ìƒì„¸ ì„¤ëª…</h2>
            <div class="section-content">
                <p><strong>ì¸ë±ìŠ¤(Index)</strong>ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ê²€ìƒ‰ ì†ë„ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. ì±…ì˜ ìƒ‰ì¸(Index)ì²˜ëŸ¼ íŠ¹ì • í‚¤ ê°’ê³¼ í•´ë‹¹ ë°ì´í„°ì˜ ìœ„ì¹˜(í¬ì¸í„°)ë¥¼ ë§¤í•‘í•˜ì—¬, ì „ì²´ í…Œì´ë¸”ì„ ìŠ¤ìº”í•˜ì§€ ì•Šê³ ë„ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</p>
                <p><strong>B-Tree ì¸ë±ìŠ¤</strong>ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ì¸ë±ìŠ¤ ìœ í˜•ì…ë‹ˆë‹¤. ê· í˜• ì¡íŒ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ O(log n) ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§€ë©°, ë²”ìœ„ ê²€ìƒ‰(BETWEEN, &lt;, &gt;)ê³¼ ì •ë ¬(ORDER BY)ì— íš¨ê³¼ì ì…ë‹ˆë‹¤. PostgreSQL, MySQLì˜ ê¸°ë³¸ ì¸ë±ìŠ¤ ìœ í˜•ì´ë©°, ë“±í˜¸(=) ê²€ìƒ‰ê³¼ ë²”ìœ„ ê²€ìƒ‰ ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.</p>
                <p><strong>Hash ì¸ë±ìŠ¤</strong>ëŠ” í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ O(1) ì‹œê°„ ë³µì¡ë„ë¡œ ì •í™•í•œ ì¼ì¹˜ ê²€ìƒ‰(=)ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë²”ìœ„ ê²€ìƒ‰ì´ë‚˜ ì •ë ¬ì—ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë©°, ë©”ëª¨ë¦¬ ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ìºì‹œì—ì„œ ì£¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.</p>
                <p><strong>ë³µí•© ì¸ë±ìŠ¤(Composite Index)</strong>ëŠ” ë‘ ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ ì¡°í•©í•œ ì¸ë±ìŠ¤ì…ë‹ˆë‹¤. ì»¬ëŸ¼ ìˆœì„œê°€ ì¤‘ìš”í•˜ë©°, ì™¼ìª½ ì»¬ëŸ¼ë¶€í„° ìˆœì„œëŒ€ë¡œ ì‚¬ìš©ë  ë•Œ íš¨ê³¼ì ì…ë‹ˆë‹¤. (A, B, C) ì¸ë±ìŠ¤ëŠ” A ë‹¨ë…, (A, B), (A, B, C) ê²€ìƒ‰ì— ì‚¬ìš©ë˜ì§€ë§Œ, Bë‚˜ C ë‹¨ë… ê²€ìƒ‰ì—ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                <p><strong>ì»¤ë²„ë§ ì¸ë±ìŠ¤</strong>ëŠ” ì¿¼ë¦¬ì— í•„ìš”í•œ ëª¨ë“  ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ì— í¬í•¨ë˜ì–´ í…Œì´ë¸” ì ‘ê·¼ ì—†ì´ ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ë””ìŠ¤í¬ I/Oë¥¼ í¬ê²Œ ì¤„ì—¬ ì„±ëŠ¥ì´ í–¥ìƒë©ë‹ˆë‹¤. INCLUDE ì ˆì´ë‚˜ ë³µí•© ì¸ë±ìŠ¤ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- ì½”ë“œ ì˜ˆì œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ’» ì½”ë“œ ì˜ˆì œ</h2>
            <div class="code-tabs">
                <button class="code-tab active" data-lang="sql">SQL (ì¸ë±ìŠ¤ ìƒì„±)</button>
                <button class="code-tab" data-lang="python">Python (ì¸ë±ìŠ¤ ë¶„ì„)</button>
                <button class="code-tab" data-lang="node">Node.js (ORM)</button>
            </div>
            <div class="code-block active" data-lang="sql">
                <pre><code class="language-sql">-- ì¸ë±ìŠ¤ ìƒì„± ë° í™œìš© ì˜ˆì œ (PostgreSQL/MySQL)

-- ============================================
-- 1. ê¸°ë³¸ ì¸ë±ìŠ¤ ìƒì„±
-- ============================================
-- ë‹¨ì¼ ì»¬ëŸ¼ ì¸ë±ìŠ¤
CREATE INDEX idx_users_email ON users(email);

-- ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ (ì¤‘ë³µ ë¶ˆí—ˆ)
CREATE UNIQUE INDEX idx_users_email_unique ON users(email);

-- ë¶€ë¶„ ì¸ë±ìŠ¤ (PostgreSQL) - íŠ¹ì • ì¡°ê±´ì˜ í–‰ë§Œ ì¸ë±ì‹±
CREATE INDEX idx_orders_pending ON orders(created_at)
WHERE status = 'pending';

-- í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ (í‘œí˜„ì‹ ì¸ë±ìŠ¤)
CREATE INDEX idx_users_email_lower ON users(LOWER(email));


-- ============================================
-- 2. ë³µí•© ì¸ë±ìŠ¤ (Composite Index)
-- ============================================
-- ì»¬ëŸ¼ ìˆœì„œê°€ ì¤‘ìš”! ì™¼ìª½ë¶€í„° ì‚¬ìš©ë¨
CREATE INDEX idx_orders_user_date ON orders(user_id, created_at);

-- ì´ ì¸ë±ìŠ¤ê°€ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬:
-- SELECT * FROM orders WHERE user_id = 1;  -- O
-- SELECT * FROM orders WHERE user_id = 1 AND created_at > '2024-01-01';  -- O
-- SELECT * FROM orders WHERE created_at > '2024-01-01';  -- X (user_id ì—†ìŒ)

-- ì»¤ë²„ë§ ì¸ë±ìŠ¤ (INCLUDE ì‚¬ìš©)
CREATE INDEX idx_orders_covering ON orders(user_id, created_at)
INCLUDE (total_amount, status);


-- ============================================
-- 3. íŠ¹ìˆ˜ ì¸ë±ìŠ¤ ìœ í˜• (PostgreSQL)
-- ============================================
-- GIN ì¸ë±ìŠ¤ - ë°°ì—´, JSON, ì „ë¬¸ ê²€ìƒ‰
CREATE INDEX idx_products_tags ON products USING GIN(tags);
CREATE INDEX idx_docs_content ON documents USING GIN(to_tsvector('korean', content));

-- GiST ì¸ë±ìŠ¤ - ì§€ë¦¬ ë°ì´í„°, ë²”ìœ„
CREATE INDEX idx_places_location ON places USING GIST(location);

-- BRIN ì¸ë±ìŠ¤ - ëŒ€ìš©ëŸ‰ ìˆœì°¨ ë°ì´í„° (ì‹œê³„ì—´)
CREATE INDEX idx_logs_timestamp ON logs USING BRIN(timestamp);


-- ============================================
-- 4. ì¸ë±ìŠ¤ ë¶„ì„ ë° ì‹¤í–‰ ê³„íš
-- ============================================
-- ì‹¤í–‰ ê³„íš í™•ì¸
EXPLAIN ANALYZE
SELECT * FROM users WHERE email = 'test@example.com';

-- ì˜ˆìƒ ê²°ê³¼:
-- Index Scan using idx_users_email on users
--   Index Cond: (email = 'test@example.com')
--   Actual Time: 0.015..0.016 ms

-- í…Œì´ë¸” ìŠ¤ìº” vs ì¸ë±ìŠ¤ ìŠ¤ìº” ë¹„êµ
EXPLAIN ANALYZE
SELECT * FROM orders WHERE user_id = 1;  -- Index Scan

EXPLAIN ANALYZE
SELECT * FROM orders WHERE total_amount > 50000;  -- Seq Scan (ì¸ë±ìŠ¤ ì—†ìŒ)


-- ============================================
-- 5. ì¸ë±ìŠ¤ ê´€ë¦¬
-- ============================================
-- ì¸ë±ìŠ¤ ëª©ë¡ ì¡°íšŒ (PostgreSQL)
SELECT indexname, indexdef
FROM pg_indexes
WHERE tablename = 'orders';

-- ì¸ë±ìŠ¤ ì‚¬ìš© í†µê³„
SELECT schemaname, relname, indexrelname, idx_scan, idx_tup_read
FROM pg_stat_user_indexes
WHERE relname = 'orders';

-- ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ ì°¾ê¸°
SELECT indexrelname, idx_scan
FROM pg_stat_user_indexes
WHERE idx_scan = 0 AND schemaname = 'public';

-- ì¸ë±ìŠ¤ ì‚­ì œ
DROP INDEX idx_unused_index;

-- ì¸ë±ìŠ¤ ì¬êµ¬ì„± (ë‹¨í¸í™” í•´ì†Œ)
REINDEX INDEX idx_orders_user_date;
-- ë˜ëŠ” ë™ì‹œ ì¬ìƒì„± (ë½ ìµœì†Œí™”)
CREATE INDEX CONCURRENTLY idx_orders_new ON orders(user_id);


-- ============================================
-- 6. ì¸ë±ìŠ¤ íŒíŠ¸ (MySQL)
-- ============================================
-- íŠ¹ì • ì¸ë±ìŠ¤ ê°•ì œ ì‚¬ìš©
SELECT * FROM orders USE INDEX (idx_orders_user_date)
WHERE user_id = 1;

-- ì¸ë±ìŠ¤ ì‚¬ìš© ê¸ˆì§€
SELECT * FROM orders IGNORE INDEX (idx_orders_user_date)
WHERE user_id = 1;</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="python">
                
                <pre><code class="language-python"># ì¸ë±ìŠ¤ ë¶„ì„ ë° ìµœì í™” ë„êµ¬ - Python
import psycopg2
from dataclasses import dataclass
from typing import List, Dict

@dataclass
class IndexInfo:
    """ì¸ë±ìŠ¤ ì •ë³´ í´ë˜ìŠ¤"""
    name: str
    table: str
    columns: List[str]
    size_mb: float
    scan_count: int
    is_unique: bool

class IndexAnalyzer:
    """ì¸ë±ìŠ¤ ë¶„ì„ ë„êµ¬"""

    def __init__(self, connection_string: str):
        self.conn_string = connection_string

    def get_all_indexes(self, schema: str = 'public') -> List[IndexInfo]:
        """ëª¨ë“  ì¸ë±ìŠ¤ ì •ë³´ ì¡°íšŒ"""
        query = """
            SELECT
                i.relname as index_name,
                t.relname as table_name,
                array_agg(a.attname) as columns,
                pg_relation_size(i.oid) / 1024.0 / 1024.0 as size_mb,
                COALESCE(s.idx_scan, 0) as scan_count,
                ix.indisunique as is_unique
            FROM pg_index ix
            JOIN pg_class i ON i.oid = ix.indexrelid
            JOIN pg_class t ON t.oid = ix.indrelid
            JOIN pg_namespace n ON n.oid = t.relnamespace
            JOIN pg_attribute a ON a.attrelid = t.oid
                AND a.attnum = ANY(ix.indkey)
            LEFT JOIN pg_stat_user_indexes s ON s.indexrelid = i.oid
            WHERE n.nspname = %s
            GROUP BY i.relname, t.relname, i.oid, s.idx_scan, ix.indisunique
            ORDER BY size_mb DESC
        """

        with psycopg2.connect(self.conn_string) as conn:
            with conn.cursor() as cur:
                cur.execute(query, (schema,))
                return [
                    IndexInfo(
                        name=row[0],
                        table=row[1],
                        columns=row[2],
                        size_mb=float(row[3]),
                        scan_count=row[4],
                        is_unique=row[5]
                    )
                    for row in cur.fetchall()
                ]

    def find_unused_indexes(self, min_size_mb: float = 1.0) -> List[IndexInfo]:
        """ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ ì°¾ê¸°"""
        all_indexes = self.get_all_indexes()
        return [
            idx for idx in all_indexes
            if idx.scan_count == 0
            and idx.size_mb >= min_size_mb
            and not idx.name.endswith('_pkey')  # PK ì œì™¸
        ]

    def find_duplicate_indexes(self) -> List[tuple]:
        """ì¤‘ë³µ ì¸ë±ìŠ¤ ì°¾ê¸° (ê°™ì€ ì»¬ëŸ¼ ì¡°í•©)"""
        query = """
            SELECT
                array_agg(indexname) as index_names,
                tablename,
                array_agg(indexdef) as definitions
            FROM pg_indexes
            WHERE schemaname = 'public'
            GROUP BY tablename,
                regexp_replace(indexdef, '.* USING [^ ]+ \\((.*)\\)', '\\1')
            HAVING COUNT(*) > 1
        """

        with psycopg2.connect(self.conn_string) as conn:
            with conn.cursor() as cur:
                cur.execute(query)
                return cur.fetchall()

    def analyze_query_plan(self, query: str) -> Dict:
        """ì¿¼ë¦¬ ì‹¤í–‰ ê³„íš ë¶„ì„"""
        explain_query = f"EXPLAIN (ANALYZE, FORMAT JSON) {query}"

        with psycopg2.connect(self.conn_string) as conn:
            with conn.cursor() as cur:
                cur.execute(explain_query)
                plan = cur.fetchone()[0][0]

                return {
                    'total_time_ms': plan['Execution Time'],
                    'planning_time_ms': plan['Planning Time'],
                    'node_type': plan['Plan']['Node Type'],
                    'uses_index': 'Index' in plan['Plan']['Node Type'],
                    'index_name': plan['Plan'].get('Index Name'),
                    'rows_returned': plan['Plan'].get('Actual Rows', 0)
                }

    def suggest_indexes(self, table: str) -> List[str]:
        """ì¸ë±ìŠ¤ ì œì•ˆ (ìì£¼ ì‚¬ìš©ë˜ëŠ” WHERE ì¡°ê±´ ê¸°ë°˜)"""
        # pg_stat_statements í™•ì¥ í•„ìš”
        query = """
            SELECT query
            FROM pg_stat_statements
            WHERE query ILIKE %s
            AND calls > 10
            ORDER BY total_time DESC
            LIMIT 20
        """

        suggestions = []
        # ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì¿¼ë¦¬ íŒŒì‹± í›„ WHERE ì ˆ ë¶„ì„
        return suggestions


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    analyzer = IndexAnalyzer("postgresql://localhost/mydb")

    # ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ ì°¾ê¸°
    unused = analyzer.find_unused_indexes(min_size_mb=10)
    print("ğŸ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ (10MB ì´ìƒ):")
    for idx in unused:
        print(f"  - {idx.name}: {idx.size_mb:.2f}MB")

    # ì¤‘ë³µ ì¸ë±ìŠ¤ ì°¾ê¸°
    duplicates = analyzer.find_duplicate_indexes()
    print("\nâš ï¸ ì¤‘ë³µ ì¸ë±ìŠ¤:")
    for dup in duplicates:
        print(f"  - í…Œì´ë¸” {dup[1]}: {dup[0]}")

    # ì¿¼ë¦¬ ë¶„ì„
    result = analyzer.analyze_query_plan(
        "SELECT * FROM orders WHERE user_id = 1"
    )
    print(f"\nğŸ“Š ì¿¼ë¦¬ ë¶„ì„:")
    print(f"  - ì¸ë±ìŠ¤ ì‚¬ìš©: {result['uses_index']}")
    print(f"  - ì‹¤í–‰ ì‹œê°„: {result['total_time_ms']:.3f}ms")</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="node">
                
                <pre><code class="language-javascript">// ì¸ë±ìŠ¤ ê´€ë¦¬ ì˜ˆì œ - Node.js (Prisma, Sequelize)
const { PrismaClient } = require('@prisma/client');

// ============================================
// 1. Prisma ìŠ¤í‚¤ë§ˆì—ì„œ ì¸ë±ìŠ¤ ì •ì˜
// ============================================
/*
// schema.prisma
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String
  createdAt DateTime @default(now())

  // ë³µí•© ì¸ë±ìŠ¤
  @@index([name, createdAt])
}

model Order {
  id        Int      @id @default(autoincrement())
  userId    Int
  status    String
  amount    Decimal
  createdAt DateTime @default(now())

  // ë³µí•© ì¸ë±ìŠ¤ + ë¶€ë¶„ ì¸ë±ìŠ¤ (PostgreSQL)
  @@index([userId, createdAt])
  @@index([status], map: "idx_orders_pending")
}
*/

// ============================================
// 2. ì¸ë±ìŠ¤ í™œìš© ì¿¼ë¦¬ ìµœì í™”
// ============================================
const prisma = new PrismaClient({
    log: ['query'],  // ì¿¼ë¦¬ ë¡œê¹…
});

class OrderRepository {
    /**
     * ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ì¡°íšŒ
     * idx_orders_user_date(user_id, created_at) í™œìš©
     */
    async getUserOrders(userId, startDate, endDate) {
        return prisma.order.findMany({
            where: {
                userId: userId,  // ì¸ë±ìŠ¤ ì²« ë²ˆì§¸ ì»¬ëŸ¼
                createdAt: {
                    gte: startDate,  // ì¸ë±ìŠ¤ ë‘ ë²ˆì§¸ ì»¬ëŸ¼
                    lte: endDate,
                },
            },
            orderBy: {
                createdAt: 'desc',  // ì¸ë±ìŠ¤ ì •ë ¬ í™œìš©
            },
            select: {
                id: true,
                amount: true,
                status: true,
                createdAt: true,
                // í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì„ íƒ (ì»¤ë²„ë§ ì¸ë±ìŠ¤ íš¨ê³¼)
            },
        });
    }

    /**
     * í˜ì´ì§€ë„¤ì´ì…˜ - ì»¤ì„œ ê¸°ë°˜ (ì¸ë±ìŠ¤ íš¨ìœ¨ì )
     */
    async getOrdersCursor(userId, cursor, limit = 20) {
        return prisma.order.findMany({
            where: {
                userId: userId,
                ...(cursor && {
                    createdAt: {
                        lt: new Date(cursor),
                    },
                }),
            },
            orderBy: {
                createdAt: 'desc',
            },
            take: limit,
        });
    }

    /**
     * ì§‘ê³„ ì¿¼ë¦¬ - ì¸ë±ìŠ¤ í™œìš©
     */
    async getUserOrderStats(userId) {
        return prisma.order.aggregate({
            where: {
                userId: userId,
            },
            _count: true,
            _sum: {
                amount: true,
            },
            _avg: {
                amount: true,
            },
        });
    }
}

// ============================================
// 3. Sequelizeì—ì„œ ì¸ë±ìŠ¤ ì •ì˜
// ============================================
const { Sequelize, DataTypes, Model } = require('sequelize');

const sequelize = new Sequelize('database', 'user', 'password', {
    dialect: 'postgres',
    logging: console.log,
});

class Order extends Model {}

Order.init({
    id: {
        type: DataTypes.INTEGER,
        primaryKey: true,
        autoIncrement: true,
    },
    userId: {
        type: DataTypes.INTEGER,
        allowNull: false,
    },
    status: {
        type: DataTypes.STRING,
        allowNull: false,
    },
    amount: {
        type: DataTypes.DECIMAL(10, 2),
        allowNull: false,
    },
}, {
    sequelize,
    modelName: 'Order',
    indexes: [
        // ë³µí•© ì¸ë±ìŠ¤
        {
            name: 'idx_orders_user_date',
            fields: ['userId', 'createdAt'],
        },
        // ë¶€ë¶„ ì¸ë±ìŠ¤
        {
            name: 'idx_orders_pending',
            fields: ['createdAt'],
            where: {
                status: 'pending',
            },
        },
        // ìœ ë‹ˆí¬ ì¸ë±ìŠ¤
        {
            unique: true,
            fields: ['userId', 'externalId'],
        },
    ],
});

// ============================================
// 4. ì¸ë±ìŠ¤ ì‚¬ìš© í™•ì¸ ìœ í‹¸ë¦¬í‹°
// ============================================
async function analyzeQuery(query, params) {
    const [result] = await sequelize.query(
        `EXPLAIN (ANALYZE, FORMAT JSON) ${query}`,
        { bind: params }
    );

    const plan = result[0]['QUERY PLAN'][0];

    return {
        executionTime: plan['Execution Time'],
        nodeType: plan['Plan']['Node Type'],
        usesIndex: plan['Plan']['Node Type'].includes('Index'),
        indexName: plan['Plan']['Index Name'] || null,
    };
}

// ì‚¬ìš© ì˜ˆì‹œ
async function main() {
    const repo = new OrderRepository();

    // ì¸ë±ìŠ¤ í™œìš© ì¿¼ë¦¬
    const orders = await repo.getUserOrders(
        123,
        new Date('2024-01-01'),
        new Date('2024-12-31')
    );
    console.log(`ì¡°íšŒëœ ì£¼ë¬¸: ${orders.length}ê±´`);

    // ì¿¼ë¦¬ ë¶„ì„
    const analysis = await analyzeQuery(
        'SELECT * FROM "Orders" WHERE "userId" = $1',
        [123]
    );
    console.log('ì¿¼ë¦¬ ë¶„ì„:', analysis);
}

main().catch(console.error);</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
        </section>

        <!-- ì‹¤ë¬´ ëŒ€í™” ì˜ˆì‹œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ—£ï¸ ì‹¤ë¬´ì—ì„œ ì´ë ‡ê²Œ ë§í•˜ì„¸ìš”</h2>
            <div class="conversation-examples">
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ íšŒì˜ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ì´ ì¿¼ë¦¬ê°€ 3ì´ˆë‚˜ ê±¸ë¦¬ëŠ” ê±´ Full Table Scan ë•Œë¬¸ì´ì—ìš”. user_idì™€ created_atì— ë³µí•© ì¸ë±ìŠ¤ë¥¼ ê±¸ë©´ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ë°”ë€Œì–´ì„œ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ ì¤„ì–´ë“¤ ê±°ì˜ˆìš”. EXPLAIN ê²°ê³¼ ë³´ì—¬ë“œë¦´ê²Œìš”."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë¦¬ë·°ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ì¸ë±ìŠ¤ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. (status, user_id)ë¡œ ë˜ì–´ ìˆëŠ”ë°, user_idë¡œë§Œ ê²€ìƒ‰í•˜ëŠ” ì¿¼ë¦¬ê°€ ë” ë§ìœ¼ë©´ (user_id, status)ë¡œ ë°”ê¿”ì•¼ í•´ìš”. ì™¼ìª½ ì»¬ëŸ¼ë¶€í„° ì‚¬ìš©ë˜ê±°ë“ ìš”."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ìš´ì˜ ì´ìŠˆ ëŒ€ì‘ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ì¸ë±ìŠ¤ê°€ ë„ˆë¬´ ë§ìœ¼ë©´ INSERT/UPDATEê°€ ëŠë ¤ì ¸ìš”. ì§€ê¸ˆ ì´ í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ 12ê°œì¸ë°, ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ 4ê°œ ì‚­ì œí•˜ê³  ì¤‘ë³µë˜ëŠ” ê±° 2ê°œ í•©ì¹˜ë©´ ì“°ê¸° ì„±ëŠ¥ì´ 30% ì •ë„ ê°œì„ ë  ê²ë‹ˆë‹¤."
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- ì£¼ì˜ì‚¬í•­ -->
        <section class="term-section">
            <h2 class="section-title">âš ï¸ ì£¼ì˜ì‚¬í•­ & ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
            <div class="warning-list">
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>ê³¼ë„í•œ ì¸ë±ìŠ¤ ìƒì„± ê¸ˆì§€</strong>
                        <p>ì¸ë±ìŠ¤ê°€ ë§ìœ¼ë©´ INSERT/UPDATE/DELETE ì„±ëŠ¥ì´ ì €í•˜ë©ë‹ˆë‹¤. ì‹¤ì œ ì¿¼ë¦¬ íŒ¨í„´ì„ ë¶„ì„í•˜ê³  í•„ìš”í•œ ì¸ë±ìŠ¤ë§Œ ìƒì„±í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>ë³µí•© ì¸ë±ìŠ¤ ìˆœì„œ ì£¼ì˜</strong>
                        <p>ë³µí•© ì¸ë±ìŠ¤ëŠ” ì™¼ìª½ ì»¬ëŸ¼ë¶€í„° ìˆœì„œëŒ€ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ìì£¼ ë‹¨ë…ìœ¼ë¡œ ê²€ìƒ‰ë˜ëŠ” ì»¬ëŸ¼ì„ ì•ì— ë°°ì¹˜í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>í•¨ìˆ˜ ì ìš© ì‹œ ì¸ë±ìŠ¤ ë¬´íš¨í™”</strong>
                        <p>WHERE LOWER(email) = 'test'ì²˜ëŸ¼ ì»¬ëŸ¼ì— í•¨ìˆ˜ë¥¼ ì ìš©í•˜ë©´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ ë³„ë„ë¡œ ìƒì„±í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âœ…</span>
                    <div>
                        <strong>ì¸ë±ìŠ¤ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</strong>
                        <p>EXPLAINìœ¼ë¡œ ì‹¤í–‰ ê³„íš í™•ì¸, ì£¼ê¸°ì ì¸ ë¯¸ì‚¬ìš© ì¸ë±ìŠ¤ ì •ë¦¬, ì»¤ë²„ë§ ì¸ë±ìŠ¤ í™œìš©, CONCURRENTLY ì˜µì…˜ìœ¼ë¡œ ë¬´ì¤‘ë‹¨ ì¸ë±ìŠ¤ ìƒì„±.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ê´€ë ¨ ìš©ì–´ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ”— ê´€ë ¨ ìš©ì–´</h2>
            <div class="related-terms">
                <a href="/ko/term/%EC%BF%BC%EB%A6%AC/" class="related-term-link">ì¿¼ë¦¬</a>
                <a href="/ko/term/%EC%A0%95%EA%B7%9C%ED%99%94/" class="related-term-link">ì •ê·œí™”</a>
                <a href="/ko/term/PostgreSQL/" class="related-term-link">PostgreSQL</a>
                <a href="/ko/term/MySQL/" class="related-term-link">MySQL</a>
                <a href="/ko/term/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98/" class="related-term-link">íŠ¸ëœì­ì…˜</a>
                <a href="/ko/term/SQL/" class="related-term-link">SQL</a>
            </div>
        </section>

        <!-- ë” ë°°ìš°ê¸° -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“š ë” ë°°ìš°ê¸°</h2>
            <div class="learn-more">
                <a href="https://www.postgresql.org/docs/current/indexes.html" target="_blank" class="learn-link">
                    ğŸ“„ PostgreSQL - ì¸ë±ìŠ¤ ê³µì‹ ë¬¸ì„œ
                </a>
                <a href="https://use-the-index-luke.com/" target="_blank" class="learn-link">
                    ğŸ“ Use The Index, Luke - SQL ì¸ë±ìŠ¤ íŠœí† ë¦¬ì–¼
                </a>
                <a href="https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html" target="_blank" class="learn-link">
                    ğŸ“– MySQL - ì¸ë±ìŠ¤ ìµœì í™” ê°€ì´ë“œ
                </a>
            </div>
        </section>
    </main>

    <!-- Engagement Kit -->
    <div id="kaitrust-engagement-kit"></div>
    <link rel="stylesheet" href="/components/engagement-kit/engagement-kit.css?v=20260130015843">
    <script src="/components/engagement-kit/engagement-kit.js?v=20260130020328"></script>

    <!-- Footer -->
        <div id="kaitrust-footer"></div>

    <!-- Scripts -->
    <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
    <script>
    function copyCode(btn) {
        const codeBlock = btn.parentElement.querySelector('code');
        navigator.clipboard.writeText(codeBlock.textContent).then(() => {
            btn.textContent = 'âœ… ë³µì‚¬ë¨!';
            setTimeout(() => btn.textContent = 'ğŸ“‹ ë³µì‚¬', 2000);
        });
    }

    document.querySelectorAll('.code-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const lang = this.dataset.lang;
            const section = this.closest('.term-section');
            section.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            section.querySelectorAll('.code-block').forEach(block => {
                block.classList.remove('active');
                if (block.dataset.lang === lang) block.classList.add('active');
            });
        });
    });
    </script>
    <script>window.WIA_A11Y_CONFIG = { fabBottom: "78px", fabRight: "170px" };</script>
    <script src="https://wia.live/wia-a11y-toolkit/wia-a11y-toolkit.min.js"></script>
    <script src="/components/ask-ai/kaitrust-ai-modal.js"></script>
    <script src="/components/language-modal/wia-language-modal-211.js"></script>
<script src="/glossary/js/term-sections.js"></script>
    <script src="https://kaitrust.ai/components/site-kit/kaitrust-site-kit.js?v=20260130012"></script>
    <script src="/kaitrust-i18n.js?v=20260130012"></script>
</body>
</html>

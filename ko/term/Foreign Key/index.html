<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foreign Key (ì™¸ë˜ í‚¤) | KAITRUST AI ë°±ê³¼ì‚¬ì „</title>
    <meta name="description" content="Foreign Key(ì™¸ë˜ í‚¤)ëŠ” ë‹¤ë¥¸ í…Œì´ë¸”ì˜ Primary Keyë¥¼ ì°¸ì¡°í•˜ì—¬ í…Œì´ë¸” ê°„ ê´€ê³„ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê³  ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.">
    <meta name="keywords" content="Foreign Key, ì™¸ë˜ í‚¤, ì°¸ì¡° ë¬´ê²°ì„±, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤, RDBMS, CASCADE, Primary Key, AI ìš©ì–´, KAITRUST">
    <link rel="canonical" href="https://glossary.kaitrust.ai/ko/term/Foreign%20Key/">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://glossary.kaitrust.ai/ko/term/Foreign%20Key/">
    <meta property="og:title" content="Foreign Key (ì™¸ë˜ í‚¤) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta property="og:description" content="Foreign KeyëŠ” í…Œì´ë¸” ê°„ ê´€ê³„ë¥¼ ì •ì˜í•˜ê³  ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.">
    <meta property="og:image" content="https://kaitrust.ai/images/og-glossary.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="KAITRUST AI ë°±ê³¼ì‚¬ì „">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Foreign Key (ì™¸ë˜ í‚¤) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta name="twitter:description" content="Foreign KeyëŠ” í…Œì´ë¸” ê°„ ê´€ê³„ë¥¼ ì •ì˜í•˜ê³  ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.">
    <meta name="twitter:image" content="https://kaitrust.ai/images/og-glossary.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "DefinedTerm",
        "name": "Foreign Key",
        "alternateName": "ì™¸ë˜ í‚¤",
        "description": "Foreign KeyëŠ” ë‹¤ë¥¸ í…Œì´ë¸”ì˜ Primary Keyë¥¼ ì°¸ì¡°í•˜ì—¬ í…Œì´ë¸” ê°„ ê´€ê³„ë¥¼ ì •ì˜í•˜ê³  ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.",
        "inDefinedTermSet": {
            "@type": "DefinedTermSet",
            "name": "KAITRUST AI ë°±ê³¼ì‚¬ì „",
            "url": "https://glossary.kaitrust.ai/"
        }
    }
    </script>

    <link rel="icon" type="image/png" href="https://kaitrust.ai/favicon.png">
    <link rel="apple-touch-icon" href="https://kaitrust.ai/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/kaitrust-common.css">
    <link rel="stylesheet" href="/css/light-mode.css">
    <link rel="stylesheet" href="/components/ask-ai/kaitrust-ai-modal.css">

    <style>
        /* ê³ ë„í™” ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .term-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(168, 85, 247, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }
        .section-content p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        .section-content p:last-child { margin-bottom: 0; }

        /* ì½”ë“œ ë¸”ë¡ */
        .code-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .code-tab {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.2s;
        }
        .code-tab.active {
            background: rgba(168, 85, 247, 0.2);
            border-color: #a855f7;
            color: #a855f7;
        }
        .code-block {
            position: relative;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            display: none;
        }
        .code-block.active { display: block; }
        .code-block pre { padding: 1.5rem; margin: 0; overflow-x: auto; }
        .code-block code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            line-height: 1.6;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.3);
            border: none;
            border-radius: 6px;
            color: #e2e8f0;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        .copy-btn:hover { background: rgba(168, 85, 247, 0.5); }

        /* ëŒ€í™” ì˜ˆì‹œ */
        .conversation-examples { display: flex; flex-direction: column; gap: 1.5rem; }
        .conv-item { background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 1.25rem; }
        .conv-context { font-size: 0.9rem; color: #a855f7; font-weight: 500; margin-bottom: 0.75rem; }
        .conv-quote {
            color: #e2e8f0;
            font-style: italic;
            line-height: 1.7;
            margin: 0;
            padding-left: 1rem;
            border-left: 3px solid #a855f7;
        }

        /* ì£¼ì˜ì‚¬í•­ */
        .warning-list { display: flex; flex-direction: column; gap: 1rem; }
        .warning-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        .warning-icon { font-size: 1.5rem; }
        .warning-item strong { color: #f1f5f9; display: block; margin-bottom: 0.25rem; }
        .warning-item p { color: #94a3b8; margin: 0; font-size: 0.95rem; }

        /* ê´€ë ¨ ìš©ì–´ */
        .related-terms { display: flex; flex-wrap: wrap; gap: 0.75rem; }
        .related-term-link {
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.1);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 20px;
            color: #a855f7;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .related-term-link:hover { background: rgba(168, 85, 247, 0.2); transform: translateY(-2px); }

        /* ë” ë°°ìš°ê¸° */
        .learn-more { display: flex; flex-direction: column; gap: 0.75rem; }
        .learn-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            color: #00f5ff;
            text-decoration: none;
            transition: all 0.2s;
        }
        .learn-link:hover { background: rgba(0, 0, 0, 0.3); transform: translateX(5px); }

        .term-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 2rem 4rem;
            position: relative;
            z-index: 1;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }
        .breadcrumb a { color: #64748b; text-decoration: none; transition: color 0.2s; }
        .breadcrumb a:hover { color: var(--primary); }
        .breadcrumb span { color: #64748b; }
        .breadcrumb .current { color: var(--accent); font-weight: 500; }
        .term-detail-header {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.6));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 24px;
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        .term-category-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #a855f7;
            margin-bottom: 1rem;
        }
        .term-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .term-english { font-size: 1.2rem; color: #94a3b8; margin-bottom: 1.5rem; }
        .term-description { font-size: 1.1rem; line-height: 1.8; color: #e2e8f0; }
        .term-actions { display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap; }
        .term-action-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.3s;
        }
        .btn-primary { background: linear-gradient(135deg, #a855f7, #6366f1); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3); }
        .btn-secondary { background: rgba(255, 255, 255, 0.1); color: #e2e8f0; border: 1px solid rgba(255, 255, 255, 0.2); }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
        @media (max-width: 768px) {
            .term-detail-container { padding: 100px 1rem 2rem; }
            .term-detail-header { padding: 2rem 1.5rem; }
            .term-title { font-size: 1.8rem; }
        }
    </style>
    <link rel="stylesheet" href="/glossary/css/term-sections.css">

</head>
<body>
    <!-- Particle Background -->
    <div class="particle-container" id="particles"></div>

    <!-- Header -->
        <div id="kaitrust-header"></div>

    <main class="term-detail-container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="https://kaitrust.ai">í™ˆ</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai">AI ë°±ê³¼ì‚¬ì „</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai/#db">ë°ì´í„°ë² ì´ìŠ¤</a>
            <span>â€º</span>
            <span class="current">Foreign Key</span>
        </nav>

        <!-- Term Header -->
        <article class="term-detail-header">
            <div class="term-category-badge">
                <span>ğŸ—„ï¸</span>
                <span>ë°ì´í„°ë² ì´ìŠ¤</span>
            </div>
            <h1 class="term-title">Foreign Key</h1>
            <p class="term-english">ì™¸ë˜ í‚¤</p>
            <div class="term-description">
                <p>ë‹¤ë¥¸ í…Œì´ë¸”ì˜ Primary Keyë¥¼ ì°¸ì¡°í•˜ì—¬ í…Œì´ë¸” ê°„ ê´€ê³„ë¥¼ ì •ì˜í•˜ëŠ” ì œì•½ì¡°ê±´ì…ë‹ˆë‹¤. ì°¸ì¡° ë¬´ê²°ì„±(Referential Integrity)ì„ ë³´ì¥í•˜ê³  ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="term-actions">
                <a href="https://glossary.kaitrust.ai" class="term-action-btn btn-primary">
                    ğŸ“š ì „ì²´ ìš©ì–´ ë³´ê¸°
                </a>
                <a href="https://glossary.kaitrust.ai/#db" class="term-action-btn btn-secondary">
                    ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë”ë³´ê¸°
                </a>
            </div>
        </article>

        <!-- ìƒì„¸ ì„¤ëª… -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“– ìƒì„¸ ì„¤ëª…</h2>
            <div class="section-content">
                <p><strong>Foreign Key(ì™¸ë˜ í‚¤)</strong>ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë‘ í…Œì´ë¸” ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” í•µì‹¬ ì œì•½ì¡°ê±´ì…ë‹ˆë‹¤. í•œ í…Œì´ë¸”ì˜ ì—´(ë˜ëŠ” ì—´ ì§‘í•©)ì´ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ Primary Keyë¥¼ ì°¸ì¡°í•˜ì—¬ "ë¶€ëª¨-ìì‹" ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì£¼ë¬¸(orders) í…Œì´ë¸”ì˜ customer_idê°€ ê³ ê°(customers) í…Œì´ë¸”ì˜ idë¥¼ ì°¸ì¡°í•˜ë©´, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³ ê°ì— ëŒ€í•œ ì£¼ë¬¸ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                <p><strong>ì°¸ì¡° ë¬´ê²°ì„±(Referential Integrity)</strong>ì€ FKì˜ í•µì‹¬ ëª©ì ì…ë‹ˆë‹¤. ìì‹ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì‚½ì…í•  ë•Œ ë¶€ëª¨ í…Œì´ë¸”ì— í•´ë‹¹ ê°’ì´ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ "ê³ ì•„ ë ˆì½”ë“œ(orphan records)"ê°€ ìƒê¸°ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ì˜ ë…¼ë¦¬ì  ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.</p>
                <p><strong>ì°¸ì¡° ë™ì‘(Referential Actions)</strong>ì€ ë¶€ëª¨ ë ˆì½”ë“œê°€ ì‚­ì œ/ìˆ˜ì •ë  ë•Œì˜ ë™ì‘ì„ ì •ì˜í•©ë‹ˆë‹¤. CASCADEëŠ” ìì‹ë„ í•¨ê»˜ ì‚­ì œ/ìˆ˜ì •, SET NULLì€ ìì‹ì˜ FKë¥¼ NULLë¡œ ì„¤ì •, RESTRICT/NO ACTIONì€ ìì‹ì´ ìˆìœ¼ë©´ ì‚­ì œ ê±°ë¶€, SET DEFAULTëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë”°ë¼ ì ì ˆí•œ ë™ì‘ì„ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.</p>
                <p><strong>ì¸ë±ì‹±ê³¼ ì„±ëŠ¥</strong> ì¸¡ë©´ì—ì„œ, FK ì—´ì—ëŠ” ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤. JOIN ì¿¼ë¦¬ì™€ ì°¸ì¡° ë¬´ê²°ì„± ê²€ì‚¬ ì‹œ ì„±ëŠ¥ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤. MySQL InnoDBëŠ” FKì— ìë™ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ë§Œ, PostgreSQLì€ ëª…ì‹œì ìœ¼ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                <p>FKëŠ” 1:1, 1:N, N:M ê´€ê³„ë¥¼ ëª¨ë¸ë§í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. N:M ê´€ê³„ëŠ” ì¤‘ê°„ í…Œì´ë¸”(junction table)ì„ í†µí•´ ë‘ ê°œì˜ FKë¡œ êµ¬í˜„í•©ë‹ˆë‹¤. ì ì ˆí•œ FK ì„¤ê³„ëŠ” ì •ê·œí™”ëœ ìŠ¤í‚¤ë§ˆì™€ íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ì˜ ê¸°ë°˜ì´ ë©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- ì½”ë“œ ì˜ˆì œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ’» ì½”ë“œ ì˜ˆì œ</h2>
            <div class="code-tabs">
                <button class="code-tab active" data-lang="sql">SQL (DDL)</button>
                <button class="code-tab" data-lang="python">Python (SQLAlchemy)</button>
                <button class="code-tab" data-lang="node">Node.js (Prisma)</button>
            </div>
            <div class="code-block active" data-lang="sql">
                <pre><code class="language-sql">-- Foreign Key ì˜ˆì œ - SQL DDL

-- ============================================
-- 1. ê¸°ë³¸ Foreign Key ìƒì„±
-- ============================================
-- ë¶€ëª¨ í…Œì´ë¸” (ì°¸ì¡° ëŒ€ìƒ)
CREATE TABLE customers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ìì‹ í…Œì´ë¸” (FK ë³´ìœ )
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    customer_id INTEGER NOT NULL,
    total_amount DECIMAL(10, 2) NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    -- Foreign Key ì œì•½ì¡°ê±´
    CONSTRAINT fk_orders_customer
        FOREIGN KEY (customer_id)
        REFERENCES customers(id)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);


-- ============================================
-- 2. ì°¸ì¡° ë™ì‘(Referential Actions)
-- ============================================
-- CASCADE: ë¶€ëª¨ ì‚­ì œ ì‹œ ìì‹ë„ ì‚­ì œ
CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id INTEGER NOT NULL,
    product_name VARCHAR(200) NOT NULL,
    quantity INTEGER NOT NULL,
    price DECIMAL(10, 2) NOT NULL,

    FOREIGN KEY (order_id)
        REFERENCES orders(id)
        ON DELETE CASCADE  -- ì£¼ë¬¸ ì‚­ì œ ì‹œ ì•„ì´í…œë„ ì‚­ì œ
);

-- SET NULL: ë¶€ëª¨ ì‚­ì œ ì‹œ NULLë¡œ ì„¤ì •
CREATE TABLE posts (
    id SERIAL PRIMARY KEY,
    author_id INTEGER,  -- NULL í—ˆìš©
    title VARCHAR(200) NOT NULL,
    content TEXT,

    FOREIGN KEY (author_id)
        REFERENCES users(id)
        ON DELETE SET NULL  -- ì‚¬ìš©ì ì‚­ì œ ì‹œ author_id = NULL
);


-- ============================================
-- 3. ë³µí•© Foreign Key
-- ============================================
CREATE TABLE enrollments (
    student_id INTEGER NOT NULL,
    course_id INTEGER NOT NULL,
    semester VARCHAR(10) NOT NULL,
    grade CHAR(2),

    -- ë³µí•© Primary Key
    PRIMARY KEY (student_id, course_id, semester),

    -- ê°ê°ì˜ FK
    FOREIGN KEY (student_id) REFERENCES students(id),
    FOREIGN KEY (course_id) REFERENCES courses(id)
);


-- ============================================
-- 4. FK ì¸ë±ìŠ¤ ìƒì„± (PostgreSQL)
-- ============================================
-- FK ì—´ì— ì¸ë±ìŠ¤ ì¶”ê°€ (ì„±ëŠ¥ í–¥ìƒ)
CREATE INDEX idx_orders_customer_id ON orders(customer_id);
CREATE INDEX idx_order_items_order_id ON order_items(order_id);


-- ============================================
-- 5. FK í™œìš© JOIN ì¿¼ë¦¬
-- ============================================
-- ê³ ê°ë³„ ì£¼ë¬¸ ì¡°íšŒ
SELECT
    c.name AS customer_name,
    c.email,
    COUNT(o.id) AS order_count,
    SUM(o.total_amount) AS total_spent
FROM customers c
LEFT JOIN orders o ON c.id = o.customer_id
GROUP BY c.id, c.name, c.email
ORDER BY total_spent DESC;


-- ============================================
-- 6. FK ì œì•½ì¡°ê±´ ê´€ë¦¬
-- ============================================
-- ê¸°ì¡´ í…Œì´ë¸”ì— FK ì¶”ê°€
ALTER TABLE orders
ADD CONSTRAINT fk_orders_shipping_address
    FOREIGN KEY (shipping_address_id)
    REFERENCES addresses(id);

-- FK ì œì•½ì¡°ê±´ ì‚­ì œ
ALTER TABLE orders
DROP CONSTRAINT fk_orders_shipping_address;

-- FK ì¼ì‹œì ìœ¼ë¡œ ë¹„í™œì„±í™” (MySQL)
SET FOREIGN_KEY_CHECKS = 0;
-- ëŒ€ëŸ‰ ë°ì´í„° ì‘ì—…...
SET FOREIGN_KEY_CHECKS = 1;

-- FK ì¼ì‹œì ìœ¼ë¡œ ë¹„í™œì„±í™” (PostgreSQL)
ALTER TABLE orders DISABLE TRIGGER ALL;
-- ëŒ€ëŸ‰ ë°ì´í„° ì‘ì—…...
ALTER TABLE orders ENABLE TRIGGER ALL;</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="python">
                
                <pre><code class="language-python"># Foreign Key ì˜ˆì œ - Python + SQLAlchemy
from sqlalchemy import create_engine, Column, Integer, String, ForeignKey, Numeric, DateTime
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import relationship, sessionmaker
from datetime import datetime

Base = declarative_base()


# ============================================
# 1. 1:N ê´€ê³„ ëª¨ë¸ ì •ì˜
# ============================================
class Customer(Base):
    """ê³ ê° ëª¨ë¸ (ë¶€ëª¨)"""
    __tablename__ = 'customers'

    id = Column(Integer, primary_key=True)
    name = Column(String(100), nullable=False)
    email = Column(String(255), unique=True, nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)

    # ê´€ê³„ ì •ì˜ (ì—­ì°¸ì¡°)
    orders = relationship('Order', back_populates='customer',
                         cascade='all, delete-orphan')

    def __repr__(self):
        return f"<Customer(id={self.id}, name='{self.name}')>"


class Order(Base):
    """ì£¼ë¬¸ ëª¨ë¸ (ìì‹)"""
    __tablename__ = 'orders'

    id = Column(Integer, primary_key=True)
    customer_id = Column(Integer, ForeignKey('customers.id',
                                             ondelete='CASCADE',
                                             onupdate='CASCADE'),
                        nullable=False)
    total_amount = Column(Numeric(10, 2), nullable=False)
    status = Column(String(20), default='pending')
    created_at = Column(DateTime, default=datetime.utcnow)

    # ê´€ê³„ ì •ì˜
    customer = relationship('Customer', back_populates='orders')
    items = relationship('OrderItem', back_populates='order',
                        cascade='all, delete-orphan')


class OrderItem(Base):
    """ì£¼ë¬¸ ì•„ì´í…œ ëª¨ë¸"""
    __tablename__ = 'order_items'

    id = Column(Integer, primary_key=True)
    order_id = Column(Integer, ForeignKey('orders.id', ondelete='CASCADE'),
                     nullable=False)
    product_name = Column(String(200), nullable=False)
    quantity = Column(Integer, nullable=False)
    price = Column(Numeric(10, 2), nullable=False)

    order = relationship('Order', back_populates='items')


# ============================================
# 2. N:M ê´€ê³„ (ë‹¤ëŒ€ë‹¤)
# ============================================
from sqlalchemy import Table

# ì¤‘ê°„ í…Œì´ë¸” (Association Table)
student_course = Table(
    'student_courses',
    Base.metadata,
    Column('student_id', Integer, ForeignKey('students.id', ondelete='CASCADE'),
           primary_key=True),
    Column('course_id', Integer, ForeignKey('courses.id', ondelete='CASCADE'),
           primary_key=True)
)


class Student(Base):
    __tablename__ = 'students'

    id = Column(Integer, primary_key=True)
    name = Column(String(100), nullable=False)

    # ë‹¤ëŒ€ë‹¤ ê´€ê³„
    courses = relationship('Course', secondary=student_course,
                          back_populates='students')


class Course(Base):
    __tablename__ = 'courses'

    id = Column(Integer, primary_key=True)
    title = Column(String(200), nullable=False)

    students = relationship('Student', secondary=student_course,
                           back_populates='courses')


# ============================================
# 3. FK ì‚¬ìš© ì˜ˆì œ
# ============================================
def main():
    # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
    engine = create_engine('postgresql://localhost/mydb')
    Base.metadata.create_all(engine)

    Session = sessionmaker(bind=engine)
    session = Session()

    try:
        # ê³ ê° ìƒì„±
        customer = Customer(name='í™ê¸¸ë™', email='hong@example.com')
        session.add(customer)
        session.flush()  # ID í• ë‹¹

        # ì£¼ë¬¸ ìƒì„± (FK ìë™ ê²€ì¦)
        order = Order(
            customer_id=customer.id,
            total_amount=50000
        )
        session.add(order)

        # relationshipì„ í†µí•œ ì ‘ê·¼
        order.items.append(OrderItem(
            product_name='ë…¸íŠ¸ë¶',
            quantity=1,
            price=50000
        ))

        session.commit()

        # FKë¥¼ í†µí•œ JOIN ì¿¼ë¦¬
        result = session.query(Customer, Order)\
            .join(Order, Customer.id == Order.customer_id)\
            .filter(Customer.name == 'í™ê¸¸ë™')\
            .all()

        for customer, order in result:
            print(f"{customer.name}: ì£¼ë¬¸ê¸ˆì•¡ {order.total_amount}")

        # ì¡´ì¬í•˜ì§€ ì•ŠëŠ” FK ì‚½ì… ì‹œë„ - ì—ëŸ¬ ë°œìƒ
        # invalid_order = Order(customer_id=99999, total_amount=10000)
        # session.add(invalid_order)
        # session.commit()  # IntegrityError ë°œìƒ!

    except Exception as e:
        session.rollback()
        print(f"ì—ëŸ¬: {e}")
    finally:
        session.close()


if __name__ == '__main__':
    main()</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="node">
                
                <pre><code class="language-javascript">// Foreign Key ì˜ˆì œ - Node.js + Prisma

// ============================================
// 1. Prisma ìŠ¤í‚¤ë§ˆ (schema.prisma)
// ============================================
/*
model Customer {
  id        Int       @id @default(autoincrement())
  name      String
  email     String    @unique
  createdAt DateTime  @default(now())

  // 1:N ê´€ê³„ (í•œ ê³ ê°ì´ ì—¬ëŸ¬ ì£¼ë¬¸)
  orders    Order[]
}

model Order {
  id          Int         @id @default(autoincrement())
  customerId  Int         // Foreign Key
  totalAmount Decimal     @db.Decimal(10, 2)
  status      String      @default("pending")
  createdAt   DateTime    @default(now())

  // FK ê´€ê³„ ì •ì˜
  customer    Customer    @relation(fields: [customerId], references: [id],
                                   onDelete: Cascade, onUpdate: Cascade)
  items       OrderItem[]

  @@index([customerId])  // FKì— ì¸ë±ìŠ¤ ì¶”ê°€
}

model OrderItem {
  id          Int     @id @default(autoincrement())
  orderId     Int     // Foreign Key
  productName String
  quantity    Int
  price       Decimal @db.Decimal(10, 2)

  order       Order   @relation(fields: [orderId], references: [id],
                               onDelete: Cascade)

  @@index([orderId])
}

// N:M ê´€ê³„ (ë‹¤ëŒ€ë‹¤)
model Student {
  id      Int       @id @default(autoincrement())
  name    String
  courses Course[]  // ì•”ë¬µì  ë‹¤ëŒ€ë‹¤
}

model Course {
  id       Int       @id @default(autoincrement())
  title    String
  students Student[]
}
*/


// ============================================
// 2. Prisma Client ì‚¬ìš©
// ============================================
const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function main() {
    // ê³ ê°ê³¼ ì£¼ë¬¸ì„ í•¨ê»˜ ìƒì„± (Nested Write)
    const customer = await prisma.customer.create({
        data: {
            name: 'í™ê¸¸ë™',
            email: 'hong@example.com',
            orders: {
                create: [
                    {
                        totalAmount: 50000,
                        status: 'completed',
                        items: {
                            create: [
                                { productName: 'ë…¸íŠ¸ë¶', quantity: 1, price: 50000 }
                            ]
                        }
                    }
                ]
            }
        },
        include: {
            orders: {
                include: { items: true }
            }
        }
    });

    console.log('ìƒì„±ëœ ê³ ê°:', customer);


    // FKë¥¼ í†µí•œ ê´€ê³„ ì¡°íšŒ
    const ordersWithCustomer = await prisma.order.findMany({
        where: {
            customer: {
                name: 'í™ê¸¸ë™'
            }
        },
        include: {
            customer: true,
            items: true
        }
    });

    console.log('ì£¼ë¬¸ ëª©ë¡:', ordersWithCustomer);


    // FK ë¬´ê²°ì„± í…ŒìŠ¤íŠ¸ - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³ ê° ID
    try {
        await prisma.order.create({
            data: {
                customerId: 99999,  // ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ID
                totalAmount: 10000
            }
        });
    } catch (error) {
        console.error('FK ìœ„ë°˜ ì—ëŸ¬:', error.message);
        // Foreign key constraint failed on the field: `Order_customerId_fkey`
    }


    // CASCADE ì‚­ì œ í…ŒìŠ¤íŠ¸
    // ê³ ê° ì‚­ì œ ì‹œ ì£¼ë¬¸ê³¼ ì£¼ë¬¸ì•„ì´í…œë„ í•¨ê»˜ ì‚­ì œ
    await prisma.customer.delete({
        where: { id: customer.id }
    });
    console.log('ê³ ê° ì‚­ì œ ì™„ë£Œ (CASCADEë¡œ ì£¼ë¬¸ë„ ì‚­ì œë¨)');


    // N:M ê´€ê³„ ì˜ˆì œ
    const student = await prisma.student.create({
        data: {
            name: 'ê¹€í•™ìƒ',
            courses: {
                create: [
                    { title: 'ë°ì´í„°ë² ì´ìŠ¤' },
                    { title: 'ì•Œê³ ë¦¬ì¦˜' }
                ]
            }
        },
        include: { courses: true }
    });

    // ê¸°ì¡´ ì½”ìŠ¤ì— í•™ìƒ ì—°ê²°
    await prisma.student.update({
        where: { id: student.id },
        data: {
            courses: {
                connect: [{ id: 1 }, { id: 2 }]  // ê¸°ì¡´ ì½”ìŠ¤ ì—°ê²°
            }
        }
    });
}

main()
    .catch(console.error)
    .finally(() => prisma.$disconnect());</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
        </section>

        <!-- ì‹¤ë¬´ ëŒ€í™” ì˜ˆì‹œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ—£ï¸ ì‹¤ë¬´ì—ì„œ ì´ë ‡ê²Œ ë§í•˜ì„¸ìš”</h2>
            <div class="conversation-examples">
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ íšŒì˜ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ì£¼ë¬¸ í…Œì´ë¸”ì— customer_idë¥¼ Foreign Keyë¡œ ê±¸ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì•¼ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³ ê°ì— ëŒ€í•œ ì£¼ë¬¸ì´ ìƒì„±ë˜ëŠ” ê±¸ ë§‰ì„ ìˆ˜ ìˆì–´ìš”. ON DELETEëŠ” RESTRICTë¡œ í•˜ë©´ ì£¼ë¬¸ ìˆëŠ” ê³ ê°ì€ ì‚­ì œê°€ ì•ˆ ë˜ë‹ˆê¹Œ ë°ì´í„° ë¬´ê²°ì„±ì´ ë³´ì¥ë©ë‹ˆë‹¤."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ì„±ëŠ¥ ì´ìŠˆ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì¤‘</div>
                    <blockquote class="conv-quote">
                        "FK ì—´ì— ì¸ë±ìŠ¤ê°€ ì—†ì–´ì„œ JOINì´ ëŠë¦° ê²ƒ ê°™ìŠµë‹ˆë‹¤. PostgreSQLì€ FKì— ìë™ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì•ˆ ë§Œë“¤ì–´ì£¼ê±°ë“ ìš”. orders í…Œì´ë¸”ì˜ customer_idì— ì¸ë±ìŠ¤ ì¶”ê°€í•˜ë©´ ì¡°íšŒ ì†ë„ê°€ í™• ë¹¨ë¼ì§ˆ ê²ë‹ˆë‹¤."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—… ë…¼ì˜ ì¤‘</div>
                    <blockquote class="conv-quote">
                        "ëŒ€ëŸ‰ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë•ŒëŠ” FK ì²´í¬ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë„ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤. MySQLì€ SET FOREIGN_KEY_CHECKS = 0ìœ¼ë¡œ ë¹„í™œì„±í™”í•˜ê³ , ì‘ì—… ëë‚˜ë©´ ë‹¤ì‹œ ì¼œìš”. ì•ˆ ê·¸ëŸ¬ë©´ ë§¤ INSERTë§ˆë‹¤ ì°¸ì¡° ê²€ì¦í•´ì„œ ì—„ì²­ ëŠë¦½ë‹ˆë‹¤."
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- ì£¼ì˜ì‚¬í•­ -->
        <section class="term-section">
            <h2 class="section-title">âš ï¸ ì£¼ì˜ì‚¬í•­ & ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
            <div class="warning-list">
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>CASCADE DELETE ë‚¨ìš© ê¸ˆì§€</strong>
                        <p>ON DELETE CASCADEëŠ” í¸ë¦¬í•˜ì§€ë§Œ ì˜ë„ì¹˜ ì•Šì€ ëŒ€ëŸ‰ ì‚­ì œë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ë°ì´í„°ëŠ” RESTRICTë¥¼ ì‚¬ìš©í•˜ê³ , ì‚­ì œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>FK ì¸ë±ìŠ¤ ëˆ„ë½ ì£¼ì˜</strong>
                        <p>PostgreSQLì€ FKì— ìë™ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. FK ì—´ì—ëŠ” ë°˜ë“œì‹œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ì—†ìœ¼ë©´ JOINê³¼ DELETE ì„±ëŠ¥ì´ í¬ê²Œ ì €í•˜ë©ë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>ìˆœí™˜ ì°¸ì¡° ë°©ì§€</strong>
                        <p>í…Œì´ë¸” Aê°€ Bë¥¼ ì°¸ì¡°í•˜ê³  Bê°€ ë‹¤ì‹œ Aë¥¼ ì°¸ì¡°í•˜ë©´ ìˆœí™˜ ì°¸ì¡°ê°€ ë©ë‹ˆë‹¤. ì‚½ì…/ì‚­ì œ ìˆœì„œ ë¬¸ì œê°€ ìƒê¸°ë¯€ë¡œ ì„¤ê³„ ì‹œ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âœ…</span>
                    <div>
                        <strong>FK ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</strong>
                        <p>FK ì—´ ì´ë¦„ì€ ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”_id í˜•ì‹(customer_id)ìœ¼ë¡œ í†µì¼, ëª¨ë“  FKì— ì¸ë±ìŠ¤ ì¶”ê°€, ì°¸ì¡° ë™ì‘ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë§ê²Œ ì„ íƒ, N:Mì€ ì¤‘ê°„ í…Œì´ë¸”ë¡œ êµ¬í˜„.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ê´€ë ¨ ìš©ì–´ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ”— ê´€ë ¨ ìš©ì–´</h2>
            <div class="related-terms">
                <a href="/ko/term/Primary%20Key/" class="related-term-link">Primary Key</a>
                <a href="/ko/term/Index/" class="related-term-link">Index</a>
                <a href="/ko/term/JOIN/" class="related-term-link">JOIN</a>
                <a href="/ko/term/Normalization/" class="related-term-link">Normalization</a>
                <a href="/ko/term/ACID/" class="related-term-link">ACID</a>
                <a href="/ko/term/ORM/" class="related-term-link">ORM</a>
            </div>
        </section>

        <!-- ë” ë°°ìš°ê¸° -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“š ë” ë°°ìš°ê¸°</h2>
            <div class="learn-more">
                <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-FK" target="_blank" class="learn-link">
                    ğŸ“„ PostgreSQL - Foreign Key Constraints
                </a>
                <a href="https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html" target="_blank" class="learn-link">
                    ğŸ“ MySQL - Foreign Key ì œì•½ì¡°ê±´
                </a>
                <a href="https://docs.sqlalchemy.org/en/20/orm/relationships.html" target="_blank" class="learn-link">
                    ğŸ“– SQLAlchemy - Relationship ì„¤ì •
                </a>
            </div>
        </section>
    </main>

    <!-- Engagement Kit -->
    <div id="kaitrust-engagement-kit"></div>
    <link rel="stylesheet" href="/components/engagement-kit/engagement-kit.css?v=20260130015843">
    <script src="/components/engagement-kit/engagement-kit.js?v=20260130020328"></script>

    <!-- Footer -->
        <div id="kaitrust-footer"></div>

    <!-- Scripts -->
    <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
    <script>
    function copyCode(btn) {
        const codeBlock = btn.parentElement.querySelector('code');
        navigator.clipboard.writeText(codeBlock.textContent).then(() => {
            btn.textContent = 'âœ… ë³µì‚¬ë¨!';
            setTimeout(() => btn.textContent = 'ğŸ“‹ ë³µì‚¬', 2000);
        });
    }

    document.querySelectorAll('.code-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const lang = this.dataset.lang;
            const section = this.closest('.term-section');
            section.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            section.querySelectorAll('.code-block').forEach(block => {
                block.classList.remove('active');
                if (block.dataset.lang === lang) block.classList.add('active');
            });
        });
    });
    </script>
    <script>window.WIA_A11Y_CONFIG = { fabBottom: "78px", fabRight: "170px" };</script>
    <script src="https://wia.live/wia-a11y-toolkit/wia-a11y-toolkit.min.js"></script>
    <script src="/components/ask-ai/kaitrust-ai-modal.js"></script>
    <script src="/components/language-modal/wia-language-modal-211.js"></script>
<script src="/glossary/js/term-sections.js"></script>
    <script src="https://kaitrust.ai/components/site-kit/kaitrust-site-kit.js"></script>
    <script src="/kaitrust-i18n.js?v=20260130005"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth (Open Authorization) | KAITRUST AI ë°±ê³¼ì‚¬ì „</title>
    <meta name="description" content="OAuthëŠ” ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì œ3ì ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œí•œëœ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ ì¸ê°€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ì†Œì…œ ë¡œê·¸ì¸, API ì ‘ê·¼ ìœ„ì„ì˜ í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤.">
    <meta name="keywords" content="OAuth, Open Authorization, ì¸ê°€, ì¸ì¦, Access Token, Refresh Token, Authorization Code, ì†Œì…œ ë¡œê·¸ì¸, API ë³´ì•ˆ, ìœ„ì„ ê¶Œí•œ, Bearer Token, KAITRUST">
    <link rel="canonical" href="https://glossary.kaitrust.ai/ko/term/OAuth/">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://glossary.kaitrust.ai/ko/term/OAuth/">
    <meta property="og:title" content="OAuth (Open Authorization) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta property="og:description" content="OAuthëŠ” ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì œ3ì ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œí•œëœ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ ì¸ê°€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.">
    <meta property="og:image" content="https://kaitrust.ai/images/og-glossary.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="KAITRUST AI ë°±ê³¼ì‚¬ì „">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="OAuth (Open Authorization) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta name="twitter:description" content="OAuthëŠ” ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì œ3ì ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œí•œëœ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ ì¸ê°€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.">
    <meta name="twitter:image" content="https://kaitrust.ai/images/og-glossary.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "DefinedTerm",
        "name": "OAuth",
        "alternateName": "Open Authorization",
        "description": "OAuthëŠ” ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì œ3ì ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œí•œëœ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ ì¸ê°€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.",
        "inDefinedTermSet": {
            "@type": "DefinedTermSet",
            "name": "KAITRUST AI ë°±ê³¼ì‚¬ì „",
            "url": "https://glossary.kaitrust.ai/"
        }
    }
    </script>

    <link rel="icon" type="image/png" href="https://kaitrust.ai/favicon.png">
    <link rel="apple-touch-icon" href="https://kaitrust.ai/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/kaitrust-common.css">
    <link rel="stylesheet" href="/css/light-mode.css">
    <link rel="stylesheet" href="/components/ask-ai/kaitrust-ai-modal.css">

    <style>
        /* ê³ ë„í™” ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .term-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(168, 85, 247, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }
        .section-content p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        .section-content p:last-child { margin-bottom: 0; }

        /* ì½”ë“œ ë¸”ë¡ */
        .code-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .code-tab {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.2s;
        }
        .code-tab.active {
            background: rgba(168, 85, 247, 0.2);
            border-color: #a855f7;
            color: #a855f7;
        }
        .code-block {
            position: relative;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            display: none;
        }
        .code-block.active { display: block; }
        .code-block pre {
            padding: 1.5rem;
            margin: 0;
            overflow-x: auto;
        }
        .code-block code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            line-height: 1.6;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.3);
            border: none;
            border-radius: 6px;
            color: #e2e8f0;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        .copy-btn:hover { background: rgba(168, 85, 247, 0.5); }

        /* ëŒ€í™” ì˜ˆì‹œ */
        .conversation-examples { display: flex; flex-direction: column; gap: 1.5rem; }
        .conv-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 1.25rem;
        }
        .conv-context {
            font-size: 0.9rem;
            color: #a855f7;
            font-weight: 500;
            margin-bottom: 0.75rem;
        }
        .conv-quote {
            color: #e2e8f0;
            font-style: italic;
            line-height: 1.7;
            margin: 0;
            padding-left: 1rem;
            border-left: 3px solid #a855f7;
        }

        /* ì£¼ì˜ì‚¬í•­ */
        .warning-list { display: flex; flex-direction: column; gap: 1rem; }
        .warning-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        .warning-icon { font-size: 1.5rem; }
        .warning-item strong { color: #f1f5f9; display: block; margin-bottom: 0.25rem; }
        .warning-item p { color: #94a3b8; margin: 0; font-size: 0.95rem; }

        /* ê´€ë ¨ ìš©ì–´ */
        .related-terms { display: flex; flex-wrap: wrap; gap: 0.75rem; }
        .related-term-link {
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.1);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 20px;
            color: #a855f7;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .related-term-link:hover {
            background: rgba(168, 85, 247, 0.2);
            transform: translateY(-2px);
        }

        /* ë” ë°°ìš°ê¸° */
        .learn-more { display: flex; flex-direction: column; gap: 0.75rem; }
        .learn-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            color: #00f5ff;
            text-decoration: none;
            transition: all 0.2s;
        }
        .learn-link:hover { background: rgba(0, 0, 0, 0.3); transform: translateX(5px); }

        .term-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 2rem 4rem;
            position: relative;
            z-index: 1;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }
        .breadcrumb a {
            color: #64748b;
            text-decoration: none;
            transition: color 0.2s;
        }
        .breadcrumb a:hover { color: var(--primary); }
        .breadcrumb span { color: #64748b; }
        .breadcrumb .current { color: var(--accent); font-weight: 500; }
        .term-detail-header {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.6));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 24px;
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        .term-category-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #a855f7;
            margin-bottom: 1rem;
        }
        .term-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .term-english {
            font-size: 1.2rem;
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }
        .term-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #e2e8f0;
        }
        .term-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        .term-action-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #a855f7, #6366f1);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        @media (max-width: 768px) {
            .term-detail-container { padding: 100px 1rem 2rem; }
            .term-detail-header { padding: 2rem 1.5rem; }
            .term-title { font-size: 1.8rem; }
        }
    </style>
    <link rel="stylesheet" href="/glossary/css/term-sections.css?v=20260129231616">

</head>
<body>
    <!-- Particle Background -->
    <div class="particle-container" id="particles"></div>

    <!-- Header -->
        <div id="kaitrust-header"></div>

    <main class="term-detail-container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="https://kaitrust.ai">í™ˆ</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai">AI ë°±ê³¼ì‚¬ì „</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai/#security">ë³´ì•ˆ</a>
            <span>â€º</span>
            <span class="current">OAuth</span>
        </nav>

        <!-- Term Header -->
        <article class="term-detail-header">
            <div class="term-category-badge">
                <span>ğŸ”’</span>
                <span>ë³´ì•ˆ</span>
            </div>
            <h1 class="term-title">OAuth</h1>
            <p class="term-english">Open Authorization</p>
            <div class="term-description">
                <p>ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì œ3ì ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì œí•œëœ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ ì¸ê°€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤. "Googleë¡œ ë¡œê·¸ì¸", "GitHubìœ¼ë¡œ ë¡œê·¸ì¸" ê°™ì€ ì†Œì…œ ë¡œê·¸ì¸ì˜ í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤.</p>
            </div>
            <div class="term-actions">
                <a href="https://glossary.kaitrust.ai" class="term-action-btn btn-primary">
                    ğŸ“š ì „ì²´ ìš©ì–´ ë³´ê¸°
                </a>
                <a href="https://glossary.kaitrust.ai/#security" class="term-action-btn btn-secondary">
                    ğŸ”’ ë³´ì•ˆ ë”ë³´ê¸°
                </a>
            </div>
        </article>

        <!-- ìƒì„¸ ì„¤ëª… -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“– ìƒì„¸ ì„¤ëª…</h2>
            <div class="section-content">
                <p>OAuth(Open Authorization)ëŠ” 2007ë…„ Twitterì™€ Ma.gnoliaê°€ ê³µë™ ê°œë°œí•œ ê°œë°©í˜• ì¸ê°€(Authorization) í‘œì¤€ì…ë‹ˆë‹¤. í•µì‹¬ ê°œë…ì€ "ìœ„ì„ ê¶Œí•œ(Delegated Authorization)"ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ìì‹ ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œ3ì ì•±ì— ì•Œë ¤ì£¼ì§€ ì•Šê³ ë„ íŠ¹ì • ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìº˜ë¦°ë” ì•±ì´ Google Calendarë¥¼ ì½ìœ¼ë ¤ë©´ ì‚¬ìš©ìì˜ Google ë¹„ë°€ë²ˆí˜¸ê°€ ì•„ë‹Œ OAuth í† í°ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤. ì´ëŠ” ë¹„ë°€ë²ˆí˜¸ ê³µìœ ì˜ ë³´ì•ˆ ìœ„í—˜ì„ ì œê±°í•©ë‹ˆë‹¤.</p>
                <p>OAuth 2.0ì€ 4ê°€ì§€ ì£¼ìš” ì—­í• ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. Resource Owner(ì‚¬ìš©ì), Client(ì œ3ì ì•±), Authorization Server(ì¸ì¦/í† í° ë°œê¸‰ ì„œë²„), Resource Server(API ì„œë²„)ì…ë‹ˆë‹¤. ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” Authorization Code Grant í”Œë¡œìš°ì—ì„œëŠ” ì‚¬ìš©ìê°€ Authorization Serverì—ì„œ ë¡œê·¸ì¸í•˜ê³ , ì•±ì€ Authorization Codeë¥¼ ë°›ì•„ Access Tokenìœ¼ë¡œ êµí™˜í•©ë‹ˆë‹¤. ì´ í† í°ìœ¼ë¡œ Resource Serverì˜ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.</p>
                <p>OAuthì˜ í•µì‹¬ ë³´ì•ˆ ìš”ì†ŒëŠ” Scopeì™€ í† í°ì…ë‹ˆë‹¤. ScopeëŠ” ì ‘ê·¼ ë²”ìœ„ë¥¼ ì œí•œí•©ë‹ˆë‹¤(ì˜ˆ: read:user, write:repos). Access Tokenì€ ì§§ì€ ìˆ˜ëª…(ë³´í†µ 1ì‹œê°„)ì„ ê°€ì§€ë©°, Refresh Tokenìœ¼ë¡œ ê°±ì‹ í•©ë‹ˆë‹¤. Access Tokenì´ íƒˆì·¨ë˜ì–´ë„ í”¼í•´ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì§§ì€ ë§Œë£Œ ì‹œê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. PKCE(Proof Key for Code Exchange)ëŠ” Authorization Code ê°€ë¡œì±„ê¸° ê³µê²©ì„ ë°©ì§€í•˜ëŠ” ì¶”ê°€ ë³´ì•ˆ ê³„ì¸µì…ë‹ˆë‹¤.</p>
                <p>OAuthëŠ” ì¸ì¦(Authentication)ì´ ì•„ë‹Œ ì¸ê°€(Authorization) í”„ë¡œí† ì½œì…ë‹ˆë‹¤. "ì´ ì•±ì´ ë‚´ ë°ì´í„°ì— ì ‘ê·¼í•´ë„ ë˜ëŠ”ê°€?"ë¥¼ ê²°ì •í•˜ì§€ë§Œ, "ì´ ì‚¬ìš©ìê°€ ëˆ„êµ¬ì¸ê°€?"ëŠ” OAuthë§Œìœ¼ë¡œ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ì ì‹ ì› í™•ì¸ì´ í•„ìš”í•˜ë©´ OAuth ìœ„ì— êµ¬ì¶•ëœ OIDC(OpenID Connect)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. OAuth 2.0ì˜ ë³´ì•ˆ ê°•í™” ë²„ì „ì¸ OAuth 2.1ì€ Implicit Grant íì§€, PKCE í•„ìˆ˜í™” ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- ì½”ë“œ ì˜ˆì œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ’» ì½”ë“œ ì˜ˆì œ</h2>
            <div class="code-tabs">
                <button class="code-tab active" data-lang="node">Node.js (Express)</button>
                <button class="code-tab" data-lang="python">Python (FastAPI)</button>
                <button class="code-tab" data-lang="flow">OAuth Flow ë‹¤ì´ì–´ê·¸ë¨</button>
            </div>
            <div class="code-block active" data-lang="node">
                <pre><code class="language-javascript">// OAuth 2.0 Authorization Code Flow - Node.js Express
const express = require('express');
const axios = require('axios');
const crypto = require('crypto');

const app = express();

// OAuth ì„¤ì •
const OAUTH_CONFIG = {
    clientId: process.env.GITHUB_CLIENT_ID,
    clientSecret: process.env.GITHUB_CLIENT_SECRET,
    authorizationUrl: 'https://github.com/login/oauth/authorize',
    tokenUrl: 'https://github.com/login/oauth/access_token',
    redirectUri: 'http://localhost:3000/callback',
    scope: 'read:user user:email'
};

// 1ë‹¨ê³„: ì¸ì¦ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
app.get('/login', (req, res) => {
    // PKCE: code_verifier ìƒì„±
    const codeVerifier = crypto.randomBytes(32).toString('base64url');
    const codeChallenge = crypto
        .createHash('sha256')
        .update(codeVerifier)
        .digest('base64url');

    // ì„¸ì…˜ì— ì €ì¥ (ì‹¤ì œë¡œëŠ” secure session ì‚¬ìš©)
    req.session = { codeVerifier };

    // state: CSRF ë°©ì§€
    const state = crypto.randomBytes(16).toString('hex');

    const authUrl = new URL(OAUTH_CONFIG.authorizationUrl);
    authUrl.searchParams.set('client_id', OAUTH_CONFIG.clientId);
    authUrl.searchParams.set('redirect_uri', OAUTH_CONFIG.redirectUri);
    authUrl.searchParams.set('scope', OAUTH_CONFIG.scope);
    authUrl.searchParams.set('state', state);
    authUrl.searchParams.set('code_challenge', codeChallenge);
    authUrl.searchParams.set('code_challenge_method', 'S256');
    authUrl.searchParams.set('response_type', 'code');

    res.redirect(authUrl.toString());
});

// 2ë‹¨ê³„: ì½œë°± - Authorization Codeë¥¼ Access Tokenìœ¼ë¡œ êµí™˜
app.get('/callback', async (req, res) => {
    const { code, state } = req.query;

    // state ê²€ì¦ (CSRF ë°©ì§€)
    // if (state !== req.session.state) return res.status(403).send('Invalid state');

    try {
        // Authorization Code â†’ Access Token êµí™˜
        const tokenResponse = await axios.post(OAUTH_CONFIG.tokenUrl, {
            client_id: OAUTH_CONFIG.clientId,
            client_secret: OAUTH_CONFIG.clientSecret,
            code: code,
            redirect_uri: OAUTH_CONFIG.redirectUri,
            // code_verifier: req.session.codeVerifier  // PKCE
        }, {
            headers: { Accept: 'application/json' }
        });

        const { access_token, refresh_token, expires_in } = tokenResponse.data;

        // 3ë‹¨ê³„: Access Tokenìœ¼ë¡œ API í˜¸ì¶œ
        const userResponse = await axios.get('https://api.github.com/user', {
            headers: { Authorization: `Bearer ${access_token}` }
        });

        res.json({
            user: userResponse.data,
            tokenInfo: { expires_in }
        });
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// í† í° ê°±ì‹ 
async function refreshAccessToken(refreshToken) {
    const response = await axios.post(OAUTH_CONFIG.tokenUrl, {
        grant_type: 'refresh_token',
        refresh_token: refreshToken,
        client_id: OAUTH_CONFIG.clientId,
        client_secret: OAUTH_CONFIG.clientSecret
    });
    return response.data;
}

app.listen(3000);</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="python">
                
                <pre><code class="language-python"># OAuth 2.0 Authorization Code Flow - FastAPI
from fastapi import FastAPI, HTTPException, Request
from fastapi.responses import RedirectResponse
import httpx
import secrets
import hashlib
import base64
from pydantic import BaseModel

app = FastAPI()

# OAuth ì„¤ì •
OAUTH_CONFIG = {
    "client_id": "your_client_id",
    "client_secret": "your_client_secret",
    "authorization_url": "https://accounts.google.com/o/oauth2/v2/auth",
    "token_url": "https://oauth2.googleapis.com/token",
    "redirect_uri": "http://localhost:8000/callback",
    "scope": "openid email profile"
}

# ì„¸ì…˜ ì €ì¥ì†Œ (ì‹¤ì œë¡œëŠ” Redis ì‚¬ìš©)
sessions = {}

def generate_pkce():
    """PKCE code_verifierì™€ code_challenge ìƒì„±"""
    code_verifier = secrets.token_urlsafe(32)
    code_challenge = base64.urlsafe_b64encode(
        hashlib.sha256(code_verifier.encode()).digest()
    ).decode().rstrip("=")
    return code_verifier, code_challenge

@app.get("/login")
async def login():
    """1ë‹¨ê³„: Authorization Serverë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸"""
    state = secrets.token_hex(16)
    code_verifier, code_challenge = generate_pkce()

    # ì„¸ì…˜ì— ì €ì¥
    sessions[state] = {"code_verifier": code_verifier}

    params = {
        "client_id": OAUTH_CONFIG["client_id"],
        "redirect_uri": OAUTH_CONFIG["redirect_uri"],
        "response_type": "code",
        "scope": OAUTH_CONFIG["scope"],
        "state": state,
        "code_challenge": code_challenge,
        "code_challenge_method": "S256",
        "access_type": "offline",  # Refresh Token ìš”ì²­
        "prompt": "consent"
    }

    auth_url = f"{OAUTH_CONFIG['authorization_url']}?{'&'.join(f'{k}={v}' for k, v in params.items())}"
    return RedirectResponse(url=auth_url)

@app.get("/callback")
async def callback(code: str, state: str):
    """2ë‹¨ê³„: Authorization Codeë¥¼ Access Tokenìœ¼ë¡œ êµí™˜"""
    # State ê²€ì¦
    if state not in sessions:
        raise HTTPException(status_code=403, detail="Invalid state")

    session_data = sessions.pop(state)

    async with httpx.AsyncClient() as client:
        # Token êµí™˜
        token_response = await client.post(
            OAUTH_CONFIG["token_url"],
            data={
                "client_id": OAUTH_CONFIG["client_id"],
                "client_secret": OAUTH_CONFIG["client_secret"],
                "code": code,
                "redirect_uri": OAUTH_CONFIG["redirect_uri"],
                "grant_type": "authorization_code",
                "code_verifier": session_data["code_verifier"]
            }
        )

        if token_response.status_code != 200:
            raise HTTPException(status_code=400, detail="Token exchange failed")

        tokens = token_response.json()
        access_token = tokens["access_token"]

        # 3ë‹¨ê³„: Access Tokenìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
        user_response = await client.get(
            "https://www.googleapis.com/oauth2/v2/userinfo",
            headers={"Authorization": f"Bearer {access_token}"}
        )

        return {
            "user": user_response.json(),
            "tokens": {
                "access_token": access_token[:20] + "...",  # ì¼ë¶€ë§Œ í‘œì‹œ
                "expires_in": tokens.get("expires_in"),
                "has_refresh_token": "refresh_token" in tokens
            }
        }

# í† í° ê°±ì‹  ìœ í‹¸ë¦¬í‹°
async def refresh_access_token(refresh_token: str):
    """Refresh Tokenìœ¼ë¡œ Access Token ê°±ì‹ """
    async with httpx.AsyncClient() as client:
        response = await client.post(
            OAUTH_CONFIG["token_url"],
            data={
                "client_id": OAUTH_CONFIG["client_id"],
                "client_secret": OAUTH_CONFIG["client_secret"],
                "refresh_token": refresh_token,
                "grant_type": "refresh_token"
            }
        )
        return response.json()</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="flow">
                
                <pre><code class="language-text">OAuth 2.0 Authorization Code Flow (PKCE í¬í•¨)
==============================================

     ì‚¬ìš©ì(Browser)          Client(App)          Authorization       Resource
           |                     |                    Server              Server
           |                     |                      |                   |
           |  1. ë¡œê·¸ì¸ í´ë¦­      |                      |                   |
           |-------------------->|                      |                   |
           |                     |                      |                   |
           |                     |  2. PKCE ìƒì„±        |                   |
           |                     |  code_verifier       |                   |
           |                     |  code_challenge      |                   |
           |                     |                      |                   |
           |    3. ë¦¬ë‹¤ì´ë ‰íŠ¸ (client_id, scope,        |                   |
           |<----------- code_challenge, state)        |                   |
           |                     |                      |                   |
           |  4. Authorization Server ë¡œê·¸ì¸ í˜ì´ì§€     |                   |
           |------------------------------------------>|                   |
           |                     |                      |                   |
           |  5. ì‚¬ìš©ì ë¡œê·¸ì¸ + ê¶Œí•œ ë™ì˜              |                   |
           |------------------------------------------>|                   |
           |                     |                      |                   |
           |    6. ë¦¬ë‹¤ì´ë ‰íŠ¸ (code, state)             |                   |
           |<------------------------------------------|                   |
           |                     |                      |                   |
           |  7. code ì „ë‹¬       |                      |                   |
           |-------------------->|                      |                   |
           |                     |                      |                   |
           |                     |  8. Token êµí™˜ ìš”ì²­  |                   |
           |                     |  (code, code_verifier, client_secret)   |
           |                     |--------------------->|                   |
           |                     |                      |                   |
           |                     |  9. Access Token +   |                   |
           |                     |     Refresh Token    |                   |
           |                     |<---------------------|                   |
           |                     |                      |                   |
           |                     |  10. API ìš”ì²­        |                   |
           |                     |  (Bearer Token)      |                   |
           |                     |---------------------------------------->|
           |                     |                      |                   |
           |                     |  11. Protected Data  |                   |
           |                     |<----------------------------------------|
           |                     |                      |                   |
           |  12. ê²°ê³¼ í‘œì‹œ      |                      |                   |
           |<--------------------|                      |                   |


Token ì¢…ë¥˜ì™€ ìˆ˜ëª…
================
- Access Token: ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ìš©, ì§§ì€ ìˆ˜ëª… (1ì‹œê°„)
- Refresh Token: Access Token ê°±ì‹ ìš©, ê¸´ ìˆ˜ëª… (30ì¼+)
- Authorization Code: 1íšŒìš©, ë§¤ìš° ì§§ì€ ìˆ˜ëª… (10ë¶„)

Scope ì˜ˆì‹œ
==========
Google: openid, email, profile, drive.readonly
GitHub: read:user, user:email, repo, write:repo_hook
Slack: channels:read, chat:write, users:read</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
        </section>

        <!-- ì‹¤ë¬´ ëŒ€í™” ì˜ˆì‹œ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ—£ï¸ ì‹¤ë¬´ì—ì„œ ì´ë ‡ê²Œ ë§í•˜ì„¸ìš”</h2>
            <div class="conversation-examples">
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ì†Œì…œ ë¡œê·¸ì¸ êµ¬í˜„ ë…¼ì˜ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "Google ë¡œê·¸ì¸ì„ OAuth 2.0 Authorization Code Flowë¡œ êµ¬í˜„í•©ì‹œë‹¤. PKCEëŠ” í•„ìˆ˜ë¡œ ì ìš©í•˜ê³ , Refresh Tokenì€ ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œì—ëŠ” Access Tokenë„ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥í•˜ì„¸ìš”."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ API ë³´ì•ˆ ì„¤ê³„ íšŒì˜ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "OAuth Scopeë¥¼ ìµœì†Œ ê¶Œí•œ ì›ì¹™ìœ¼ë¡œ ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤. read:profileë§Œ í•„ìš”í•œ ì•±ì— write ê¶Œí•œê¹Œì§€ ì£¼ë©´ ì•ˆ ë©ë‹ˆë‹¤. ìš°ë¦¬ APIë„ Scope ê¸°ë°˜ ì ‘ê·¼ ì œì–´ë¥¼ ë„ì…í•´ì„œ ì œ3ì ì•±ì´ í•„ìš”í•œ ê¶Œí•œë§Œ ìš”ì²­í•˜ë„ë¡ í•©ì‹œë‹¤."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë³´ì•ˆ ê°ì‚¬ ëŒ€ì‘ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "Access Token ìˆ˜ëª…ì„ 1ì‹œê°„ìœ¼ë¡œ ì¤„ì´ê³ , Refresh Token Rotationì„ ì ìš©í–ˆìŠµë‹ˆë‹¤. í† í° íƒˆì·¨ ì‹œ í”¼í•´ ë²”ìœ„ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë°©ì–´ì  ì„¤ê³„ì…ë‹ˆë‹¤. ë¡œê·¸ì•„ì›ƒ ì‹œ ì„œë²„ ì‚¬ì´ë“œ í† í° ë¬´íš¨í™”ë„ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤."
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- ì£¼ì˜ì‚¬í•­ -->
        <section class="term-section">
            <h2 class="section-title">âš ï¸ ì£¼ì˜ì‚¬í•­ & ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
            <div class="warning-list">
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>Implicit Grant ì‚¬ìš© ê¸ˆì§€</strong>
                        <p>Implicit Grant(response_type=token)ëŠ” URL Fragmentì— í† í°ì´ ë…¸ì¶œë˜ì–´ ìœ„í—˜í•©ë‹ˆë‹¤. SPAë„ Authorization Code Flow + PKCEë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. OAuth 2.1ì—ì„œ ê³µì‹ íì§€ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>Client Secret í”„ë¡ íŠ¸ì—”ë“œ ë…¸ì¶œ</strong>
                        <p>Client Secretì€ ì„œë²„ì—ì„œë§Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì € JavaScriptì— Client Secretì´ ìˆìœ¼ë©´ ëˆ„êµ¬ë‚˜ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Public ClientëŠ” PKCEë§Œìœ¼ë¡œ ë³´ì•ˆì„ í™•ë³´í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>State íŒŒë¼ë¯¸í„° ë¯¸ì‚¬ìš©</strong>
                        <p>State ì—†ì´ OAuthë¥¼ êµ¬í˜„í•˜ë©´ CSRF ê³µê²©ì— ì·¨ì•½í•©ë‹ˆë‹¤. ê³µê²©ìê°€ ìì‹ ì˜ Authorization Codeë¡œ í”¼í•´ìì˜ ì„¸ì…˜ì„ ë°”ì¸ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•­ìƒ cryptographically randomí•œ stateë¥¼ ìƒì„±í•˜ê³  ê²€ì¦í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âœ…</span>
                    <div>
                        <strong>OAuth ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</strong>
                        <p>PKCE í•„ìˆ˜, Access Token ì§§ì€ ìˆ˜ëª…, Refresh Token Rotation, Scope ìµœì†Œí™”, HTTPS í•„ìˆ˜, redirect_uri í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦ì„ ì ìš©í•˜ì„¸ìš”. OAuth 2.1 ê°€ì´ë“œë¼ì¸ì„ ë”°ë¥´ë©´ ëŒ€ë¶€ë¶„ì˜ ì·¨ì•½ì ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ê´€ë ¨ ìš©ì–´ -->
        <section class="term-section">
            <h2 class="section-title">ğŸ”— ê´€ë ¨ ìš©ì–´</h2>
            <div class="related-terms">
                <a href="/ko/term/OAuth%202.1/" class="related-term-link">OAuth 2.1</a>
                <a href="/ko/term/OIDC/" class="related-term-link">OIDC</a>
                <a href="/ko/term/JWT/" class="related-term-link">JWT</a>
                <a href="/ko/term/SSO/" class="related-term-link">SSO</a>
                <a href="/ko/term/PKCE/" class="related-term-link">PKCE</a>
            </div>
        </section>

        <!-- ë” ë°°ìš°ê¸° -->
        <section class="term-section">
            <h2 class="section-title">ğŸ“š ë” ë°°ìš°ê¸°</h2>
            <div class="learn-more">
                <a href="https://oauth.net/2/" target="_blank" class="learn-link">
                    ğŸ“„ OAuth 2.0 ê³µì‹ ì‚¬ì´íŠ¸
                </a>
                <a href="https://datatracker.ietf.org/doc/html/rfc6749" target="_blank" class="learn-link">
                    ğŸ“ RFC 6749 - OAuth 2.0 ëª…ì„¸
                </a>
                <a href="https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow" target="_blank" class="learn-link">
                    ğŸ“– Auth0 - Authorization Code Flow ê°€ì´ë“œ
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
        <div id="kaitrust-footer"></div>

    <!-- Scripts -->
    <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
    <script>
    // ì½”ë“œ ë³µì‚¬ ê¸°ëŠ¥
    function copyCode(btn) {
        const codeBlock = btn.parentElement.querySelector('code');
        navigator.clipboard.writeText(codeBlock.textContent).then(() => {
            btn.textContent = 'âœ… ë³µì‚¬ë¨!';
            setTimeout(() => btn.textContent = 'ğŸ“‹ ë³µì‚¬', 2000);
        });
    }

    // ì½”ë“œ íƒ­ ì „í™˜
    document.querySelectorAll('.code-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const lang = this.dataset.lang;
            const section = this.closest('.term-section');

            section.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');

            section.querySelectorAll('.code-block').forEach(block => {
                block.classList.remove('active');
                if (block.dataset.lang === lang) {
                    block.classList.add('active');
                }
            });
        });
    });
    </script>
    <script>window.WIA_A11Y_CONFIG = { fabBottom: "78px", fabRight: "170px" };</script>
    <script src="https://wia.live/wia-a11y-toolkit/wia-a11y-toolkit.min.js"></script>
    <script src="/components/ask-ai/kaitrust-ai-modal.js"></script>
    <script src="/components/language-modal/wia-language-modal-211.js"></script>
<script src="/glossary/js/term-sections.js?v=20260129231616"></script>
    <script src="https://kaitrust.ai/components/site-kit/kaitrust-site-kit.js"></script>
    <script src="/kaitrust-i18n.js?v=20260129"></script>
</body>
</html>

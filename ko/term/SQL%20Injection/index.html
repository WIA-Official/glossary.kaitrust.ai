<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Injection (SQL ì¸ì ì…˜) | KAITRUST AI ë°±ê³¼ì‚¬ì „</title>
    <meta name="description" content="SQL Injectionì€ ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤. ë°ì´í„° ìœ ì¶œ, ì‚­ì œ, ì¸ì¦ ìš°íšŒ ë“± ì‹¬ê°í•œ í”¼í•´ë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìœ¼ë©° Prepared Statementë¡œ ë°©ì–´í•©ë‹ˆë‹¤.">
    <meta name="keywords" content="SQL Injection, SQL ì¸ì ì…˜, SQLi, ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ, Prepared Statement, íŒŒë¼ë¯¸í„°í™” ì¿¼ë¦¬, ORM, OWASP, ì…ë ¥ ê²€ì¦, ì›¹ ë³´ì•ˆ, AI ìš©ì–´, KAITRUST">
    <link rel="canonical" href="https://glossary.kaitrust.ai/ko/term/SQL%20Injection/">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://glossary.kaitrust.ai/ko/term/SQL%20Injection/">
    <meta property="og:title" content="SQL Injection (SQL ì¸ì ì…˜) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta property="og:description" content="SQL Injectionì€ ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤.">
    <meta property="og:image" content="https://kaitrust.ai/images/og-glossary.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="KAITRUST AI ë°±ê³¼ì‚¬ì „">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SQL Injection (SQL ì¸ì ì…˜) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta name="twitter:description" content="SQL Injectionì€ ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤.">
    <meta name="twitter:image" content="https://kaitrust.ai/images/og-glossary.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "DefinedTerm",
        "name": "SQL Injection",
        "alternateName": "SQL ì¸ì ì…˜",
        "description": "SQL Injectionì€ ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤.",
        "inDefinedTermSet": {
            "@type": "DefinedTermSet",
            "name": "KAITRUST AI ë°±ê³¼ì‚¬ì „",
            "url": "https://glossary.kaitrust.ai/"
        }
    }
    </script>

    <link rel="icon" type="image/png" href="https://kaitrust.ai/favicon.png">
    <link rel="apple-touch-icon" href="https://kaitrust.ai/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/kaitrust-common.css">
    <link rel="stylesheet" href="/css/light-mode.css">
    <link rel="stylesheet" href="/components/ask-ai/kaitrust-ai-modal.css">

    <style>
        .term-section { background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(168, 85, 247, 0.1); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; }
        .section-title { font-size: 1.4rem; font-weight: 600; color: #f1f5f9; margin-bottom: 1.5rem; padding-bottom: 0.75rem; border-bottom: 1px solid rgba(168, 85, 247, 0.2); }
        .section-content p { color: #cbd5e1; line-height: 1.8; margin-bottom: 1rem; }
        .section-content p:last-child { margin-bottom: 0; }

        .code-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .code-tab { padding: 0.5rem 1rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: #94a3b8; cursor: pointer; transition: all 0.2s; }
        .code-tab.active { background: rgba(168, 85, 247, 0.2); border-color: #a855f7; color: #a855f7; }
        .code-block { position: relative; background: #0f172a; border-radius: 12px; overflow: hidden; display: none; }
        .code-block.active { display: block; }
        .code-block pre { padding: 1.5rem; margin: 0; overflow-x: auto; }
        .code-block code { font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; color: #e2e8f0; line-height: 1.6; }
        .copy-btn { position: absolute; top: 0.75rem; right: 0.75rem; padding: 0.5rem 1rem; background: rgba(168, 85, 247, 0.3); border: none; border-radius: 6px; color: #e2e8f0; cursor: pointer; font-size: 0.85rem; transition: all 0.2s; }
        .copy-btn:hover { background: rgba(168, 85, 247, 0.5); }

        .conversation-examples { display: flex; flex-direction: column; gap: 1.5rem; }
        .conv-item { background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 1.25rem; }
        .conv-context { font-size: 0.9rem; color: #a855f7; font-weight: 500; margin-bottom: 0.75rem; }
        .conv-quote { color: #e2e8f0; font-style: italic; line-height: 1.7; margin: 0; padding-left: 1rem; border-left: 3px solid #a855f7; }

        .warning-list { display: flex; flex-direction: column; gap: 1rem; }
        .warning-item { display: flex; gap: 1rem; padding: 1rem; background: rgba(0, 0, 0, 0.2); border-radius: 10px; }
        .warning-icon { font-size: 1.5rem; }
        .warning-item strong { color: #f1f5f9; display: block; margin-bottom: 0.25rem; }
        .warning-item p { color: #94a3b8; margin: 0; font-size: 0.95rem; }

        .related-terms { display: flex; flex-wrap: wrap; gap: 0.75rem; }
        .related-term-link { padding: 0.5rem 1rem; background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.3); border-radius: 20px; color: #a855f7; text-decoration: none; font-size: 0.9rem; transition: all 0.2s; }
        .related-term-link:hover { background: rgba(168, 85, 247, 0.2); transform: translateY(-2px); }

        .learn-more { display: flex; flex-direction: column; gap: 0.75rem; }
        .learn-link { display: flex; align-items: center; gap: 0.75rem; padding: 1rem; background: rgba(0, 0, 0, 0.2); border-radius: 10px; color: #00f5ff; text-decoration: none; transition: all 0.2s; }
        .learn-link:hover { background: rgba(0, 0, 0, 0.3); transform: translateX(5px); }

        .term-detail-container { max-width: 900px; margin: 0 auto; padding: 120px 2rem 4rem; position: relative; z-index: 1; }
        .breadcrumb { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 2rem; font-size: 0.9rem; flex-wrap: wrap; }
        .breadcrumb a { color: #64748b; text-decoration: none; transition: color 0.2s; }
        .breadcrumb a:hover { color: var(--primary); }
        .breadcrumb span { color: #64748b; }
        .breadcrumb .current { color: var(--accent); font-weight: 500; }
        .term-detail-header { background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.6)); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 24px; padding: 3rem; margin-bottom: 2rem; position: relative; overflow: hidden; }
        .term-category-badge { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(168, 85, 247, 0.2); border-radius: 20px; font-size: 0.85rem; color: #a855f7; margin-bottom: 1rem; }
        .term-title { font-family: 'Orbitron', sans-serif; font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; background: linear-gradient(135deg, #ffffff, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .term-english { font-size: 1.2rem; color: #94a3b8; margin-bottom: 1.5rem; }
        .term-description { font-size: 1.1rem; line-height: 1.8; color: #e2e8f0; }
        .term-actions { display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap; }
        .term-action-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border-radius: 12px; font-size: 0.9rem; text-decoration: none; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(135deg, #a855f7, #6366f1); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3); }
        .btn-secondary { background: rgba(255, 255, 255, 0.1); color: #e2e8f0; border: 1px solid rgba(255, 255, 255, 0.2); }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
        @media (max-width: 768px) { .term-detail-container { padding: 100px 1rem 2rem; } .term-detail-header { padding: 2rem 1.5rem; } .term-title { font-size: 1.8rem; } }
    </style>
</head>
<body>
    <div class="particle-container" id="particles"></div>

    <div id="kaitrust-header"></div>

    <main class="term-detail-container">
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="https://kaitrust.ai">í™ˆ</a><span>â€º</span>
            <a href="https://glossary.kaitrust.ai">AI ë°±ê³¼ì‚¬ì „</a><span>â€º</span>
            <a href="https://glossary.kaitrust.ai/#security">ë³´ì•ˆ</a><span>â€º</span>
            <span class="current">SQL Injection</span>
        </nav>

        <article class="term-detail-header">
            <div class="term-category-badge"><span>ğŸ”’</span><span>ë³´ì•ˆ</span></div>
            <h1 class="term-title">SQL Injection</h1>
            <p class="term-english">SQL ì¸ì ì…˜</p>
            <div class="term-description">
                <p>ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤. ë°ì´í„° ìœ ì¶œ, ì‚­ì œ, ì¸ì¦ ìš°íšŒ, ì„œë²„ ì¥ì•…ê¹Œì§€ ê°€ëŠ¥í•˜ë©° Prepared Statement(íŒŒë¼ë¯¸í„°í™” ì¿¼ë¦¬)ë¡œ ë°©ì–´í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="term-actions">
                <a href="https://glossary.kaitrust.ai" class="term-action-btn btn-primary">ğŸ“š ì „ì²´ ìš©ì–´ ë³´ê¸°</a>
                <a href="https://glossary.kaitrust.ai/#security" class="term-action-btn btn-secondary">ğŸ”’ ë³´ì•ˆ ë”ë³´ê¸°</a>
            </div>
        </article>

        <section class="term-section">
            <h2 class="section-title">ğŸ“– ìƒì„¸ ì„¤ëª…</h2>
            <div class="section-content">
                <p>SQL Injection(SQLi)ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš©ì ì…ë ¥ì„ SQL ì¿¼ë¦¬ì— ì§ì ‘ ì‚½ì…í•  ë•Œ ë°œìƒí•˜ëŠ” ë³´ì•ˆ ì·¨ì•½ì ì…ë‹ˆë‹¤. ê³µê²©ìëŠ” ì…ë ¥ í•„ë“œ(ë¡œê·¸ì¸ í¼, ê²€ìƒ‰ì°½ ë“±)ì— ì•…ì˜ì ì¸ SQL ì½”ë“œë¥¼ ì£¼ì…í•˜ì—¬ ì˜ë„ì¹˜ ì•Šì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. 1998ë…„ ì²˜ìŒ ë³´ê³ ëœ ì´í›„ ì§€ê¸ˆê¹Œì§€ OWASP Top 10ì—ì„œ ìƒìœ„ê¶Œì„ ì°¨ì§€í•˜ëŠ” ê°€ì¥ ìœ„í—˜í•œ ì›¹ ì·¨ì•½ì  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.</p>
                <p>SQL Injectionì˜ ëŒ€í‘œì ì¸ ìœ í˜•ìœ¼ë¡œëŠ” In-band SQLi, Blind SQLi, Out-of-band SQLiê°€ ìˆìŠµë‹ˆë‹¤. In-band SQLiëŠ” ê²°ê³¼ê°€ ì§ì ‘ í™”ë©´ì— í‘œì‹œë˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì…ë‹ˆë‹¤. Union-basedëŠ” UNION ì—°ì‚°ìë¡œ ì¶”ê°€ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³ , Error-basedëŠ” ì—ëŸ¬ ë©”ì‹œì§€ì—ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤. Blind SQLiëŠ” ê²°ê³¼ê°€ ë³´ì´ì§€ ì•Šì§€ë§Œ, ì°¸/ê±°ì§“ ì‘ë‹µ ì°¨ì´(Boolean-based)ë‚˜ ì‘ë‹µ ì‹œê°„(Time-based)ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìœ ì¶”í•©ë‹ˆë‹¤.</p>
                <p>ê³µê²©ì´ ì„±ê³µí•˜ë©´ í”¼í•´ê°€ ì‹¬ê°í•©ë‹ˆë‹¤. ì¸ì¦ ìš°íšŒë¡œ ê´€ë¦¬ì ê³„ì •ì— ì ‘ê·¼í•˜ê±°ë‚˜, ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ìš©ì„ ì¶”ì¶œ(Data Exfiltration)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DROP TABLEë¡œ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê±°ë‚˜, xp_cmdshell(MS SQL) ê°™ì€ ê¸°ëŠ¥ìœ¼ë¡œ ìš´ì˜ì²´ì œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì„œë²„ë¥¼ ì¥ì•…í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 2017ë…„ Equifax í•´í‚¹ ì‚¬ê±´ì—ì„œ 1ì–µ 4ì²œë§Œ ëª…ì˜ ê°œì¸ì •ë³´ê°€ SQL Injectionìœ¼ë¡œ ìœ ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                <p>ë°©ì–´ì˜ í•µì‹¬ì€ Prepared Statement(Parameterized Query)ì…ë‹ˆë‹¤. SQL ì¿¼ë¦¬ êµ¬ì¡°ì™€ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬, ì‚¬ìš©ì ì…ë ¥ì´ SQL ë¬¸ë²•ìœ¼ë¡œ í•´ì„ë˜ì§€ ì•Šê³  ìˆœìˆ˜í•œ ë°ì´í„°ë¡œë§Œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ORM(Object-Relational Mapping) ì‚¬ìš©, ìµœì†Œ ê¶Œí•œ ì›ì¹™(DB ê³„ì • ê¶Œí•œ ì œí•œ), ì…ë ¥ ê²€ì¦(í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸), WAF(Web Application Firewall) ì ìš©ë„ ì¤‘ìš”í•œ ë°©ì–´ ê³„ì¸µì…ë‹ˆë‹¤.</p>
            </div>
        </section>

        <section class="term-section">
            <h2 class="section-title">ğŸ’» ì½”ë“œ ì˜ˆì œ</h2>
            <div class="code-tabs">
                <button class="code-tab active" data-lang="vulnerable">ì·¨ì•½í•œ ì½”ë“œ</button>
                <button class="code-tab" data-lang="secure">ì•ˆì „í•œ ì½”ë“œ</button>
                <button class="code-tab" data-lang="orm">ORM ì‚¬ìš©</button>
            </div>
            <div class="code-block active" data-lang="vulnerable">
                <pre><code class="language-python"># âŒ SQL Injection ì·¨ì•½í•œ ì½”ë“œ ì˜ˆì‹œ

# ===== Python (ì·¨ì•½) =====
import sqlite3

def login_vulnerable(username, password):
    conn = sqlite3.connect('users.db')
    cursor = conn.cursor()

    # ìœ„í—˜: ë¬¸ìì—´ ì—°ê²°ë¡œ ì¿¼ë¦¬ ìƒì„±
    query = f"SELECT * FROM users WHERE username = '{username}' AND password = '{password}'"
    cursor.execute(query)
    return cursor.fetchone()

# ê³µê²© ì˜ˆì‹œ 1: ì¸ì¦ ìš°íšŒ
# username: admin' --
# password: (ì•„ë¬´ê±°ë‚˜)
# ê²°ê³¼ ì¿¼ë¦¬: SELECT * FROM users WHERE username = 'admin' --' AND password = 'xxx'
# -- ì´í›„ëŠ” ì£¼ì„ ì²˜ë¦¬ë¨ â†’ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ìš°íšŒ!

# ê³µê²© ì˜ˆì‹œ 2: í•­ìƒ ì°¸ì¸ ì¡°ê±´
# username: ' OR '1'='1
# password: ' OR '1'='1
# ê²°ê³¼ ì¿¼ë¦¬: SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '' OR '1'='1'
# â†’ ëª¨ë“  ì‚¬ìš©ì ë°˜í™˜!


# ===== Node.js (ì·¨ì•½) =====
# const query = `SELECT * FROM users WHERE id = ${req.params.id}`;
# connection.query(query);  // ìœ„í—˜!

# ê³µê²©: /user/1; DROP TABLE users; --
# ê²°ê³¼: ì „ì²´ í…Œì´ë¸” ì‚­ì œ!


# ===== PHP (ì·¨ì•½) =====
# $query = "SELECT * FROM products WHERE id = " . $_GET['id'];
# mysql_query($query);  // ìœ„í—˜!


# ===== SQL Injection ê³µê²© í˜ì´ë¡œë“œ ì˜ˆì‹œ =====
# (êµìœ¡ ëª©ì , ì‹¤ì œ ê³µê²© ê¸ˆì§€)

# ì¸ì¦ ìš°íšŒ
# ' OR '1'='1' --
# admin'--
# ' OR 1=1#

# Union ê¸°ë°˜ ë°ì´í„° ì¶”ì¶œ
# ' UNION SELECT username, password FROM users --
# ' UNION SELECT NULL, table_name FROM information_schema.tables --

# Time-based Blind SQLi
# ' OR IF(1=1, SLEEP(5), 0) --
# ' OR (SELECT SLEEP(5) FROM users WHERE username='admin') --

# Error-based (ì •ë³´ ì¶”ì¶œ)
# ' AND 1=CONVERT(int, (SELECT TOP 1 table_name FROM information_schema.tables)) --

# ë°ì´í„°ë² ì´ìŠ¤ ë²„ì „ í™•ì¸
# ' UNION SELECT @@version --       (MySQL/MSSQL)
# ' UNION SELECT version() --       (PostgreSQL)</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="secure">
                <pre><code class="language-python"># âœ… SQL Injection ë°©ì–´ - Prepared Statement

# ===== Python (sqlite3) =====
import sqlite3

def login_secure(username, password):
    conn = sqlite3.connect('users.db')
    cursor = conn.cursor()

    # ì•ˆì „: íŒŒë¼ë¯¸í„° ë°”ì¸ë”© (? í”Œë ˆì´ìŠ¤í™€ë”)
    query = "SELECT * FROM users WHERE username = ? AND password = ?"
    cursor.execute(query, (username, password))
    return cursor.fetchone()

# ' OR '1'='1 ì…ë ¥í•´ë„ ë¬¸ìì—´ë¡œ ì²˜ë¦¬ë¨
# ì¿¼ë¦¬ êµ¬ì¡°ì™€ ë°ì´í„°ê°€ ë¶„ë¦¬ë˜ì–´ SQLë¡œ í•´ì„ë˜ì§€ ì•ŠìŒ


# ===== Python (psycopg2 - PostgreSQL) =====
import psycopg2

def get_user_secure(user_id):
    conn = psycopg2.connect(database="mydb")
    cursor = conn.cursor()

    # %s í”Œë ˆì´ìŠ¤í™€ë” ì‚¬ìš©
    cursor.execute("SELECT * FROM users WHERE id = %s", (user_id,))
    return cursor.fetchone()


# ===== Python (mysql-connector) =====
import mysql.connector

def search_products_secure(keyword):
    conn = mysql.connector.connect(host='localhost', database='shop')
    cursor = conn.cursor(prepared=True)

    # ì´ë¦„ ìˆëŠ” íŒŒë¼ë¯¸í„°
    query = "SELECT * FROM products WHERE name LIKE %(keyword)s"
    cursor.execute(query, {'keyword': f'%{keyword}%'})
    return cursor.fetchall()


# ===== Node.js (mysql2) =====
# const mysql = require('mysql2/promise');
#
# async function getUser(userId) {
#     const connection = await mysql.createConnection({...});
#
#     // íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬
#     const [rows] = await connection.execute(
#         'SELECT * FROM users WHERE id = ?',
#         [userId]
#     );
#     return rows[0];
# }


# ===== Java (JDBC) =====
# String query = "SELECT * FROM users WHERE username = ? AND password = ?";
# PreparedStatement pstmt = connection.prepareStatement(query);
# pstmt.setString(1, username);
# pstmt.setString(2, password);
# ResultSet rs = pstmt.executeQuery();


# ===== ì¶”ê°€ ë°©ì–´ ê³„ì¸µ =====

# 1. ì…ë ¥ ê²€ì¦ (í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸)
def validate_order_column(column):
    allowed = ['id', 'name', 'created_at', 'price']
    if column not in allowed:
        raise ValueError(f"Invalid column: {column}")
    return column

# 2. ìµœì†Œ ê¶Œí•œ ì›ì¹™
# - ì• í”Œë¦¬ì¼€ì´ì…˜ DB ê³„ì •ì— SELECT, INSERT, UPDATEë§Œ ë¶€ì—¬
# - DROP, ALTER, CREATE ê¶Œí•œ ì œê±°
# - ë¯¼ê°í•œ í…Œì´ë¸”ì— ëŒ€í•œ ì ‘ê·¼ ì œí•œ

# 3. ì—ëŸ¬ ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
# - í”„ë¡œë•ì…˜ì—ì„œ ìƒì„¸ SQL ì—ëŸ¬ ë©”ì‹œì§€ ìˆ¨ê¹€
# - ë¡œê·¸ì—ë§Œ ê¸°ë¡, ì‚¬ìš©ìì—ê²ŒëŠ” ì¼ë°˜ ì—ëŸ¬ í‘œì‹œ</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
            <div class="code-block" data-lang="orm">
                <pre><code class="language-python"># âœ… ORM ì‚¬ìš© - SQL Injection ìë™ ë°©ì–´

# ===== Python (SQLAlchemy) =====
from sqlalchemy import create_engine, Column, Integer, String
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker

Base = declarative_base()

class User(Base):
    __tablename__ = 'users'
    id = Column(Integer, primary_key=True)
    username = Column(String(50))
    email = Column(String(100))
    password = Column(String(255))

# DB ì—°ê²°
engine = create_engine('postgresql://user:pass@localhost/mydb')
Session = sessionmaker(bind=engine)
session = Session()

# ì•ˆì „í•œ ì¿¼ë¦¬ - ORMì´ ìë™ìœ¼ë¡œ íŒŒë¼ë¯¸í„°í™”
def login_with_orm(username, password):
    # filter()ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Prepared Statement ì‚¬ìš©
    user = session.query(User).filter(
        User.username == username,
        User.password == password
    ).first()
    return user

# LIKE ê²€ìƒ‰ë„ ì•ˆì „
def search_users(keyword):
    return session.query(User).filter(
        User.username.like(f'%{keyword}%')
    ).all()


# ===== Python (Django ORM) =====
# from myapp.models import User
#
# # ìë™ìœ¼ë¡œ ì•ˆì „í•œ ì¿¼ë¦¬ ìƒì„±
# user = User.objects.filter(username=username, password=password).first()
#
# # Raw SQL ì‚¬ìš© ì‹œì—ë„ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©
# User.objects.raw('SELECT * FROM users WHERE id = %s', [user_id])


# ===== Node.js (Prisma) =====
# const user = await prisma.user.findFirst({
#     where: {
#         username: username,
#         password: password
#     }
# });


# ===== Node.js (Sequelize) =====
# const user = await User.findOne({
#     where: {
#         username: username,
#         password: password
#     }
# });


# ===== ì£¼ì˜: Raw Query ì‚¬ìš© ì‹œ =====

# SQLAlchemy raw query (ì•ˆì „)
from sqlalchemy import text

result = session.execute(
    text("SELECT * FROM users WHERE id = :user_id"),
    {"user_id": user_id}
)

# Django raw query (ì•ˆì „)
# User.objects.raw('SELECT * FROM users WHERE id = %s', [user_id])

# âŒ ìœ„í—˜í•œ ì‚¬ìš© (ë¬¸ìì—´ í¬ë§·íŒ…)
# session.execute(f"SELECT * FROM users WHERE id = {user_id}")  # ì ˆëŒ€ ê¸ˆì§€!


# ===== ì •ë ¬/ì»¬ëŸ¼ëª…ì€ íŒŒë¼ë¯¸í„°í™” ë¶ˆê°€ =====

# ë™ì  ORDER BYëŠ” í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¡œ ê²€ì¦
ALLOWED_SORT_COLUMNS = ['id', 'name', 'created_at']

def get_sorted_users(sort_column, sort_order):
    if sort_column not in ALLOWED_SORT_COLUMNS:
        sort_column = 'id'
    if sort_order not in ['asc', 'desc']:
        sort_order = 'asc'

    # ê²€ì¦ëœ ê°’ë§Œ ì‚¬ìš©
    from sqlalchemy import asc, desc
    order_func = asc if sort_order == 'asc' else desc
    column = getattr(User, sort_column)

    return session.query(User).order_by(order_func(column)).all()</code></pre>
                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ ë³µì‚¬</button>
            </div>
        </section>

        <section class="term-section">
            <h2 class="section-title">ğŸ—£ï¸ ì‹¤ë¬´ì—ì„œ ì´ë ‡ê²Œ ë§í•˜ì„¸ìš”</h2>
            <div class="conversation-examples">
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ì½”ë“œ ë¦¬ë·°ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ì´ ë¶€ë¶„ì—ì„œ ë¬¸ìì—´ í¬ë§·íŒ…ìœ¼ë¡œ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ê³  ìˆë„¤ìš”. SQL Injection ì·¨ì•½ì ì…ë‹ˆë‹¤. Prepared Statementë¡œ ë°”ê¿”ì£¼ì„¸ìš”. íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ì ì…ë ¥ì´ SQL ë¬¸ë²•ì´ ì•„ë‹Œ ìˆœìˆ˜ ë°ì´í„°ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë³´ì•ˆ ê°ì‚¬ ëŒ€ì‘ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì ê²€í•œ ê²°ê³¼ 3ê³³ì—ì„œ ë™ì  ì¿¼ë¦¬ ìƒì„±ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ëª¨ë‘ ORM ë˜ëŠ” Prepared Statementë¡œ ìˆ˜ì •í•˜ê³ , DB ê³„ì • ê¶Œí•œë„ ìµœì†Œ ê¶Œí•œ ì›ì¹™ì— ë”°ë¼ ì¬ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ WAFì— SQL Injection íƒì§€ ê·œì¹™ì„ í™œì„±í™”í–ˆìŠµë‹ˆë‹¤."
                    </blockquote>
                </div>
                <div class="conv-item">
                    <div class="conv-context">ğŸ’¬ ë©´ì ‘ì—ì„œ</div>
                    <blockquote class="conv-quote">
                        "SQL Injection ë°©ì–´ì˜ í•µì‹¬ì€ ì¿¼ë¦¬ êµ¬ì¡°ì™€ ë°ì´í„°ì˜ ë¶„ë¦¬ì…ë‹ˆë‹¤. Prepared StatementëŠ” ì¿¼ë¦¬ë¥¼ ë¨¼ì € ì»´íŒŒì¼í•˜ê³  ë°ì´í„°ë¥¼ ë‚˜ì¤‘ì— ë°”ì¸ë”©í•˜ë¯€ë¡œ, ì•…ì˜ì ì¸ ì…ë ¥ë„ SQL ë¬¸ë²•ìœ¼ë¡œ í•´ì„ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ORMì„ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì´ ë°©ì‹ì´ ì ìš©ë©ë‹ˆë‹¤."
                    </blockquote>
                </div>
            </div>
        </section>

        <section class="term-section">
            <h2 class="section-title">âš ï¸ ì£¼ì˜ì‚¬í•­ & ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
            <div class="warning-list">
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>ë¬¸ìì—´ ì—°ê²°/í¬ë§·íŒ…ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„±</strong>
                        <p>f"SELECT * FROM users WHERE id = {user_id}"ëŠ” SQL Injectionì˜ ê·¼ë³¸ ì›ì¸ì…ë‹ˆë‹¤. ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. Prepared Statementë§Œ ì‚¬ìš©í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>ì…ë ¥ ê²€ì¦ë§Œìœ¼ë¡œ ë°©ì–´</strong>
                        <p>ë¸”ë™ë¦¬ìŠ¤íŠ¸ í•„í„°ë§(ë”°ì˜´í‘œ ì œê±° ë“±)ì€ ìš°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì…ë ¥ ê²€ì¦ì€ ë³´ì¡° ìˆ˜ë‹¨ì´ë©°, Prepared Statementê°€ í•µì‹¬ ë°©ì–´ì…ë‹ˆë‹¤.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âŒ</span>
                    <div>
                        <strong>DB ê³„ì • ê³¼ë„í•œ ê¶Œí•œ</strong>
                        <p>ì• í”Œë¦¬ì¼€ì´ì…˜ DB ê³„ì •ì— DBA ê¶Œí•œì„ ì£¼ë©´ SQLi ì„±ê³µ ì‹œ í”¼í•´ê°€ ê·¹ëŒ€í™”ë©ë‹ˆë‹¤. SELECT, INSERT, UPDATEë§Œ ë¶€ì—¬í•˜ê³  DROP, ALTERëŠ” ì œê±°í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="warning-item">
                    <span class="warning-icon">âœ…</span>
                    <div>
                        <strong>SQL Injection ë°©ì–´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</strong>
                        <p>Prepared Statement í•„ìˆ˜, ORM ì‚¬ìš© ê¶Œì¥, ìµœì†Œ ê¶Œí•œ ì›ì¹™, ì—ëŸ¬ ë©”ì‹œì§€ ìˆ¨ê¹€, WAF ì ìš©, ì •ê¸°ì ì¸ ì½”ë“œ ìŠ¤ìº”(SAST), ë™ì  ì»¬ëŸ¼/í…Œì´ë¸”ëª…ì€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="term-section">
            <h2 class="section-title">ğŸ”— ê´€ë ¨ ìš©ì–´</h2>
            <div class="related-terms">
                <a href="/ko/term/XSS/" class="related-term-link">XSS</a>
                <a href="/ko/term/CSRF/" class="related-term-link">CSRF</a>
                <a href="/ko/term/Authentication/" class="related-term-link">Authentication</a>
                <a href="/ko/term/Firewall/" class="related-term-link">Firewall (WAF)</a>
                <a href="/ko/term/Encryption/" class="related-term-link">Encryption</a>
            </div>
        </section>

        <section class="term-section">
            <h2 class="section-title">ğŸ“š ë” ë°°ìš°ê¸°</h2>
            <div class="learn-more">
                <a href="https://owasp.org/www-community/attacks/SQL_Injection" target="_blank" class="learn-link">
                    ğŸ“„ OWASP - SQL Injection ê³µê²© ì„¤ëª…
                </a>
                <a href="https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html" target="_blank" class="learn-link">
                    ğŸ“ OWASP SQL Injection ë°©ì–´ ì¹˜íŠ¸ì‹œíŠ¸
                </a>
                <a href="https://portswigger.net/web-security/sql-injection" target="_blank" class="learn-link">
                    ğŸ“– PortSwigger - SQL Injection í•™ìŠµ ìë£Œ
                </a>
            </div>
        </section>
    </main>

    <div id="kaitrust-footer"></div>

    <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
    <script>
    function copyCode(btn) {
        const codeBlock = btn.parentElement.querySelector('code');
        navigator.clipboard.writeText(codeBlock.textContent).then(() => {
            btn.textContent = 'âœ… ë³µì‚¬ë¨!';
            setTimeout(() => btn.textContent = 'ğŸ“‹ ë³µì‚¬', 2000);
        });
    }
    document.querySelectorAll('.code-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const lang = this.dataset.lang;
            const section = this.closest('.term-section');
            section.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            section.querySelectorAll('.code-block').forEach(block => {
                block.classList.remove('active');
                if (block.dataset.lang === lang) block.classList.add('active');
            });
        });
    });
    </script>
    <script>window.WIA_A11Y_CONFIG = { fabBottom: "78px", fabRight: "170px" };</script>
    <script src="https://wia.live/wia-a11y-toolkit/wia-a11y-toolkit.min.js"></script>
    <script src="/components/ask-ai/kaitrust-ai-modal.js"></script>
    <script src="https://kaitrust.ai/components/site-kit/kaitrust-site-kit.js"></script>
</body>
</html>

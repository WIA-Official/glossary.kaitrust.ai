<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTE (Common Table Expression) | KAITRUST AI ë°±ê³¼ì‚¬ì „</title>
    <meta name="description" content="WITH ì ˆë¡œ ì •ì˜í•˜ëŠ” ì„ì‹œ ê²°ê³¼ ì§‘í•©. ë³µì¡í•œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„± í–¥ìƒ. ì¬ê·€ CTEë¡œ ê³„ì¸µì  ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥.">
    <meta name="keywords" content="CTE, Common Table Expression, WITHì ˆ, ì¬ê·€ì¿¼ë¦¬, Recursive CTE, SQL, AI ìš©ì–´, KAITRUST, AI ë°±ê³¼ì‚¬ì „, ë°ì´í„°ë² ì´ìŠ¤">
    <link rel="canonical" href="https://glossary.kaitrust.ai/ko/term/CTE/">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://glossary.kaitrust.ai/ko/term/CTE/">
    <meta property="og:title" content="CTE (Common Table Expression) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta property="og:description" content="WITH ì ˆë¡œ ì •ì˜í•˜ëŠ” ì„ì‹œ ê²°ê³¼ ì§‘í•©. ë³µì¡í•œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„± í–¥ìƒ. ì¬ê·€ CTEë¡œ ê³„ì¸µì  ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥.">
    <meta property="og:image" content="https://kaitrust.ai/images/og-glossary.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="KAITRUST AI ë°±ê³¼ì‚¬ì „">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="CTE (Common Table Expression) | KAITRUST AI ë°±ê³¼ì‚¬ì „">
    <meta name="twitter:description" content="WITH ì ˆë¡œ ì •ì˜í•˜ëŠ” ì„ì‹œ ê²°ê³¼ ì§‘í•©. ë³µì¡í•œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„± í–¥ìƒ. ì¬ê·€ CTEë¡œ ê³„ì¸µì  ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥.">
    <meta name="twitter:image" content="https://kaitrust.ai/images/og-glossary.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "DefinedTerm",
        "name": "CTE",
        "description": "WITH ì ˆë¡œ ì •ì˜í•˜ëŠ” ì„ì‹œ ê²°ê³¼ ì§‘í•©. ë³µì¡í•œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„± í–¥ìƒ. ì¬ê·€ CTEë¡œ ê³„ì¸µì  ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥.",
        "inDefinedTermSet": {
            "@type": "DefinedTermSet",
            "name": "KAITRUST AI ë°±ê³¼ì‚¬ì „",
            "url": "https://glossary.kaitrust.ai/"
        }
    }
    </script>

    <link rel="icon" type="image/png" href="https://kaitrust.ai/favicon.png">
    <link rel="apple-touch-icon" href="https://kaitrust.ai/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/kaitrust-common.css">
    <link rel="stylesheet" href="/css/light-mode.css">
    <link rel="stylesheet" href="/components/ask-ai/kaitrust-ai-modal.css">

    <style>
        .term-detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 120px 2rem 4rem;
            position: relative;
            z-index: 1;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }
        .breadcrumb a {
            color: #64748b;
            text-decoration: none;
            transition: color 0.2s;
        }
        .breadcrumb a:hover { color: var(--primary); }
        .breadcrumb span { color: #64748b; }
        .breadcrumb .current { color: var(--accent); font-weight: 500; }
        .term-detail-header {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.6));
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 24px;
            padding: 3rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        .term-category-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #a855f7;
            margin-bottom: 1rem;
        }
        .term-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .term-english {
            font-size: 1.2rem;
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }
        .term-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #e2e8f0;
        }
        .term-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        .term-action-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #a855f7, #6366f1);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .related-section {
            margin-top: 3rem;
        }
        .related-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #f1f5f9;
        }
        @media (max-width: 768px) {
            .term-detail-container { padding: 100px 1rem 2rem; }
            .term-detail-header { padding: 2rem 1.5rem; }
            .term-title { font-size: 1.8rem; }
        }

        /* ê³ ë„í™” ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .term-section {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.5));
            border: 1px solid rgba(168, 85, 247, 0.15);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .term-section h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #f1f5f9;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .term-section p, .term-section li {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        .term-section ul, .term-section ol {
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .term-section li {
            margin-bottom: 0.5rem;
        }
        .term-section strong {
            color: #a855f7;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        .code-block code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #e2e8f0;
            white-space: pre;
        }
        .code-label {
            font-size: 0.8rem;
            color: #a855f7;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .conversation-box {
            background: rgba(168, 85, 247, 0.1);
            border-left: 3px solid #a855f7;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 0 12px 12px 0;
        }
        .conversation-box .speaker {
            font-weight: 600;
            color: #a855f7;
            margin-bottom: 0.25rem;
        }
        .conversation-box .text {
            color: #e2e8f0;
            margin-bottom: 1rem;
        }
        .conversation-box .text:last-child {
            margin-bottom: 0;
        }
        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .warning-box .warning-title {
            color: #f59e0b;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .related-terms {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
        }
        .related-term-tag {
            background: rgba(168, 85, 247, 0.2);
            color: #c4b5fd;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            text-decoration: none;
            transition: all 0.2s;
        }
        .related-term-tag:hover {
            background: rgba(168, 85, 247, 0.4);
            color: #fff;
        }
        .cte-type-card {
            background: rgba(168, 85, 247, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .cte-type-card h4 {
            color: #a855f7;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .comparison-table th, .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }
        .comparison-table th {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
            font-weight: 600;
        }
        .comparison-table td {
            color: #cbd5e1;
        }
        .comparison-table tr:hover td {
            background: rgba(168, 85, 247, 0.05);
        }
    </style>
    <link rel="stylesheet" href="/glossary/css/term-sections.css?v=20260130000138">

</head>
<body>
    <!-- Particle Background -->
    <div class="particle-container" id="particles"></div>

    <!-- Header -->
        <div id="kaitrust-header"></div>

    <main class="term-detail-container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="https://kaitrust.ai">í™ˆ</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai">AI ë°±ê³¼ì‚¬ì „</a>
            <span>â€º</span>
            <a href="https://glossary.kaitrust.ai/#db">ë°ì´í„°ë² ì´ìŠ¤</a>
            <span>â€º</span>
            <span class="current">CTE</span>
        </nav>

        <!-- Term Header -->
        <article class="term-detail-header">
            <div class="term-category-badge">
                <span>ğŸ—„ï¸</span>
                <span>ë°ì´í„°ë² ì´ìŠ¤</span>
            </div>
            <h1 class="term-title">CTE</h1>
            <p class="term-english">Common Table Expression</p>
            <div class="term-description">
                <p>WITH ì ˆë¡œ ì •ì˜í•˜ëŠ” ì„ì‹œ ê²°ê³¼ ì§‘í•©. ë³µì¡í•œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³ , ì¬ê·€ ì¿¼ë¦¬ë¡œ ê³„ì¸µì  ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="term-actions">
                <a href="https://glossary.kaitrust.ai" class="term-action-btn btn-primary">
                    ğŸ“š ì „ì²´ ìš©ì–´ ë³´ê¸°
                </a>
                <a href="https://glossary.kaitrust.ai/#db" class="term-action-btn btn-secondary">
                    ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë”ë³´ê¸°
                </a>
            </div>
        </article>

        <!-- ìƒì„¸ ì„¤ëª… ì„¹ì…˜ -->
        <section class="term-section">
            <h2>ğŸ“– ìƒì„¸ ì„¤ëª…</h2>
            <p>
                <strong>CTE (Common Table Expression)</strong>ëŠ” SQLì˜ WITH ì ˆì„ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ ë‚´ì—ì„œ ì„ì‹œë¡œ ì´ë¦„ì´ ìˆëŠ” ê²°ê³¼ ì§‘í•©ì„ ì •ì˜í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
                ì„œë¸Œì¿¼ë¦¬ë¥¼ ì¿¼ë¦¬ ë³¸ë¬¸ ì•ì— ì •ì˜í•´ ì¬ì‚¬ìš©í•˜ê³ , ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.
            </p>

            <div class="cte-type-card">
                <h4>ë¹„ì¬ê·€ CTE (Non-Recursive CTE)</h4>
                <p>ì¼ë°˜ì ì¸ ì„œë¸Œì¿¼ë¦¬ë¥¼ WITH ì ˆë¡œ ë¶„ë¦¬í•˜ì—¬ ì´ë¦„ì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ë™ì¼í•œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ë²ˆ ì°¸ì¡°í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.</p>
            </div>

            <div class="cte-type-card">
                <h4>ì¬ê·€ CTE (Recursive CTE)</h4>
                <p>ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ëŠ” CTEë¡œ, ê³„ì¸µì  ë°ì´í„°(ì¡°ì§ë„, í´ë” êµ¬ì¡°, ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬)ë¥¼ ì²˜ë¦¬í•  ë•Œ í•„ìˆ˜ì ì…ë‹ˆë‹¤.
                ê¸°ì¤€ ë©¤ë²„(Base Case)ì™€ ì¬ê·€ ë©¤ë²„(Recursive Member)ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.</p>
            </div>

            <h3 style="color: #f1f5f9; margin-top: 1.5rem;">CTE vs ì„œë¸Œì¿¼ë¦¬ vs ì„ì‹œ í…Œì´ë¸”</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>íŠ¹ì„±</th>
                        <th>CTE</th>
                        <th>ì„œë¸Œì¿¼ë¦¬</th>
                        <th>ì„ì‹œ í…Œì´ë¸”</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ì •ì˜ ìœ„ì¹˜</td>
                        <td>ì¿¼ë¦¬ ì• (WITH)</td>
                        <td>ì¿¼ë¦¬ ì•ˆ</td>
                        <td>ë³„ë„ CREATE</td>
                    </tr>
                    <tr>
                        <td>ì¬ì‚¬ìš©</td>
                        <td>ì¿¼ë¦¬ ë‚´ ì—¬ëŸ¬ ë²ˆ</td>
                        <td>í•œ ë²ˆë§Œ</td>
                        <td>ì„¸ì…˜ ë™ì•ˆ</td>
                    </tr>
                    <tr>
                        <td>ì¬ê·€ ì§€ì›</td>
                        <td>O</td>
                        <td>X</td>
                        <td>X (ì§ì ‘ êµ¬í˜„)</td>
                    </tr>
                    <tr>
                        <td>ì¸ë±ìŠ¤</td>
                        <td>X</td>
                        <td>X</td>
                        <td>O</td>
                    </tr>
                    <tr>
                        <td>ìµœì í™”</td>
                        <td>ì˜µí‹°ë§ˆì´ì € ê²°ì •</td>
                        <td>ì¸ë¼ì¸</td>
                        <td>êµ¬ì²´í™”ë¨</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ì½”ë“œ ì˜ˆì œ ì„¹ì…˜ -->
        <section class="term-section">
            <h2>ğŸ’» ì½”ë“œ ì˜ˆì œ</h2>

            <div class="code-label">ê¸°ë³¸ CTE - ì—¬ëŸ¬ ë²ˆ ì°¸ì¡°</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>-- ì›”ë³„ ë§¤ì¶œ ì§‘ê³„ë¥¼ CTEë¡œ ì •ì˜
WITH monthly_sales AS (
    SELECT
        DATE_TRUNC('month', order_date) AS month,
        SUM(amount) AS total_sales,
        COUNT(*) AS order_count
    FROM orders
    WHERE order_date >= '2024-01-01'
    GROUP BY DATE_TRUNC('month', order_date)
)
-- CTEë¥¼ ì—¬ëŸ¬ ë²ˆ ì°¸ì¡°í•˜ì—¬ ë¶„ì„
SELECT
    month,
    total_sales,
    order_count,
    AVG(total_sales) OVER () AS avg_monthly_sales,
    total_sales - LAG(total_sales) OVER (ORDER BY month) AS growth
FROM monthly_sales
ORDER BY month;</code>
            </div>

            <div class="code-label">ë‹¤ì¤‘ CTE - ë³µì¡í•œ ë¶„ì„</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>WITH
-- 1ë‹¨ê³„: ê³ ê°ë³„ ì£¼ë¬¸ ì§‘ê³„
customer_orders AS (
    SELECT
        customer_id,
        COUNT(*) AS total_orders,
        SUM(amount) AS total_spent
    FROM orders
    GROUP BY customer_id
),
-- 2ë‹¨ê³„: ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¥˜
customer_segments AS (
    SELECT
        customer_id,
        total_orders,
        total_spent,
        CASE
            WHEN total_spent >= 100000 THEN 'VIP'
            WHEN total_spent >= 50000 THEN 'Regular'
            ELSE 'Basic'
        END AS segment
    FROM customer_orders
),
-- 3ë‹¨ê³„: ì„¸ê·¸ë¨¼íŠ¸ë³„ í†µê³„
segment_stats AS (
    SELECT
        segment,
        COUNT(*) AS customer_count,
        AVG(total_spent) AS avg_spent
    FROM customer_segments
    GROUP BY segment
)
-- ìµœì¢… ê²°ê³¼: ì„¸ê·¸ë¨¼íŠ¸ë³„ ê³ ê° ëª©ë¡ê³¼ í†µê³„
SELECT
    c.customer_id,
    c.segment,
    c.total_spent,
    s.customer_count,
    s.avg_spent,
    c.total_spent - s.avg_spent AS diff_from_avg
FROM customer_segments c
JOIN segment_stats s ON c.segment = s.segment
ORDER BY c.segment, c.total_spent DESC;</code>
            </div>

            <div class="code-label">ì¬ê·€ CTE - ì¡°ì§ë„ (ì§ì› ê³„ì¸µ êµ¬ì¡°)</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>-- ì§ì› í…Œì´ë¸” êµ¬ì¡°: id, name, manager_id
WITH RECURSIVE org_tree AS (
    -- ê¸°ì¤€ ë©¤ë²„ (Base Case): ìµœìƒìœ„ ê´€ë¦¬ì
    SELECT
        id,
        name,
        manager_id,
        1 AS level,
        ARRAY[name] AS path,
        name AS full_path
    FROM employees
    WHERE manager_id IS NULL

    UNION ALL

    -- ì¬ê·€ ë©¤ë²„ (Recursive Member): í•˜ìœ„ ì§ì›
    SELECT
        e.id,
        e.name,
        e.manager_id,
        o.level + 1,
        o.path || e.name,
        o.full_path || ' > ' || e.name
    FROM employees e
    JOIN org_tree o ON e.manager_id = o.id
)
SELECT
    REPEAT('  ', level - 1) || name AS hierarchy,
    level,
    full_path
FROM org_tree
ORDER BY path;</code>
            </div>

            <div class="code-label">ì¬ê·€ CTE - ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>-- ì¹´í…Œê³ ë¦¬ ë¬´í•œ ëìŠ¤ ì¡°íšŒ
WITH RECURSIVE category_tree AS (
    -- ë£¨íŠ¸ ì¹´í…Œê³ ë¦¬
    SELECT
        id,
        name,
        parent_id,
        0 AS depth,
        CAST(id AS VARCHAR(1000)) AS sort_path
    FROM categories
    WHERE parent_id IS NULL

    UNION ALL

    -- í•˜ìœ„ ì¹´í…Œê³ ë¦¬
    SELECT
        c.id,
        c.name,
        c.parent_id,
        ct.depth + 1,
        ct.sort_path || '/' || CAST(c.id AS VARCHAR(1000))
    FROM categories c
    JOIN category_tree ct ON c.parent_id = ct.id
    WHERE ct.depth < 10  -- ë¬´í•œ ë£¨í”„ ë°©ì§€
)
SELECT
    REPEAT('â”œâ”€ ', depth) || name AS tree_view,
    depth,
    id
FROM category_tree
ORDER BY sort_path;</code>
            </div>

            <div class="code-label">ì¬ê·€ CTE - ë‚ ì§œ ì‹œë¦¬ì¦ˆ ìƒì„±</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>-- ì—°ì†ëœ ë‚ ì§œ ì‹œë¦¬ì¦ˆ ìƒì„± (30ì¼)
WITH RECURSIVE date_series AS (
    SELECT CURRENT_DATE - INTERVAL '29 days' AS date

    UNION ALL

    SELECT date + INTERVAL '1 day'
    FROM date_series
    WHERE date < CURRENT_DATE
)
-- ë‚ ì§œë³„ ì£¼ë¬¸ ì§‘ê³„ (ì£¼ë¬¸ ì—†ëŠ” ë‚ ë„ í¬í•¨)
SELECT
    d.date,
    COALESCE(COUNT(o.id), 0) AS order_count,
    COALESCE(SUM(o.amount), 0) AS total_amount
FROM date_series d
LEFT JOIN orders o ON DATE(o.order_date) = d.date
GROUP BY d.date
ORDER BY d.date;</code>
            </div>

            <div class="code-label">ì¬ê·€ CTE - BOM (Bill of Materials) ì „ê°œ</div>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
<code>-- ì œí’ˆ BOM ì „ê°œ (ë¶€í’ˆ êµ¬ì„±í‘œ)
WITH RECURSIVE bom_explosion AS (
    -- ìµœìƒìœ„ ì œí’ˆ
    SELECT
        product_id,
        component_id,
        quantity,
        1 AS level,
        CAST(component_id AS VARCHAR(1000)) AS path
    FROM bill_of_materials
    WHERE product_id = 'PROD-001'

    UNION ALL

    -- í•˜ìœ„ ë¶€í’ˆ
    SELECT
        b.product_id,
        b.component_id,
        b.quantity * bom.quantity AS total_quantity,
        bom.level + 1,
        bom.path || ' > ' || b.component_id
    FROM bill_of_materials b
    JOIN bom_explosion bom ON b.product_id = bom.component_id
    WHERE bom.level < 10
)
SELECT
    REPEAT('  ', level - 1) || component_id AS component,
    quantity AS total_needed,
    path
FROM bom_explosion
ORDER BY path;</code>
            </div>
        </section>

        <!-- í˜„ì—… ëŒ€í™” ì˜ˆì‹œ -->
        <section class="term-section">
            <h2>ğŸ’¬ í˜„ì—… ëŒ€í™” ì˜ˆì‹œ</h2>

            <div class="conversation-box">
                <div class="speaker">ì‹ ì… ê°œë°œì</div>
                <div class="text">"ì´ ì¿¼ë¦¬ì—ì„œ ê°™ì€ ì„œë¸Œì¿¼ë¦¬ê°€ 3ë²ˆì´ë‚˜ ë°˜ë³µë˜ëŠ”ë°, ì–´ë–»ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆì„ê¹Œìš”?"</div>
                <div class="speaker">ì‹œë‹ˆì–´ ê°œë°œì</div>
                <div class="text">"CTEë¡œ ë¹¼. WITH customer_stats AS (...) ì´ë ‡ê²Œ ì •ì˜í•˜ê³  ì—¬ëŸ¬ ë²ˆ ì°¸ì¡°í•˜ë©´ ê°€ë…ì„±ë„ ì¢‹ì•„ì§€ê³  ì˜µí‹°ë§ˆì´ì €ê°€ ì•Œì•„ì„œ ìµœì í™”í•´ì¤˜."</div>
            </div>

            <div class="conversation-box">
                <div class="speaker">ë°±ì—”ë“œ ê°œë°œì</div>
                <div class="text">"ëŒ“ê¸€ ëŒ€ëŒ“ê¸€ êµ¬ì¡°ë¥¼ ë¬´í•œ ëìŠ¤ë¡œ ì¡°íšŒí•´ì•¼ í•˜ëŠ”ë°, ë°˜ë³µë¬¸ìœ¼ë¡œ DB ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ë‹ˆê¹Œ ëŠë ¤ìš”."</div>
                <div class="speaker">DBA</div>
                <div class="text">"ì¬ê·€ CTE ì¨ë´. WITH RECURSIVEë¡œ í•œ ë²ˆì— ì „ì²´ íŠ¸ë¦¬ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì–´. ë‹¨, ë¬´í•œë£¨í”„ ë°©ì§€ìš©ìœ¼ë¡œ depth ì œí•œ ê¼­ ê±¸ê³ ."</div>
            </div>

            <div class="conversation-box">
                <div class="speaker">ë°ì´í„° ë¶„ì„ê°€</div>
                <div class="text">"ì´ ë¶„ì„ ì¿¼ë¦¬ê°€ 200ì¤„ì¸ë°, ë¡œì§ íŒŒì•…ì´ ì–´ë ¤ì›Œìš”. í…ŒìŠ¤íŠ¸ë„ í˜ë“¤ê³ ìš”."</div>
                <div class="speaker">ì‹œë‹ˆì–´ ë¶„ì„ê°€</div>
                <div class="text">"ë‹¨ê³„ë³„ë¡œ CTEë¡œ ìª¼ê°œ. í•„í„°ë§ â†’ ì§‘ê³„ â†’ ë³€í™˜ â†’ ì¡°ì¸ ì´ëŸ° ì‹ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ ê° ë‹¨ê³„ ê²°ê³¼ë¥¼ SELECT * FROM cte_nameìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´."</div>
            </div>
        </section>

        <!-- ì£¼ì˜ì‚¬í•­ -->
        <section class="term-section">
            <h2>âš ï¸ ì£¼ì˜ì‚¬í•­</h2>

            <div class="warning-box">
                <div class="warning-title">âš ï¸ ì¬ê·€ CTE ë¬´í•œ ë£¨í”„</div>
                <p style="color: #fcd34d; margin: 0;">ì¬ê·€ CTEì—ì„œ ì¢…ë£Œ ì¡°ê±´ì´ ì—†ìœ¼ë©´ ë¬´í•œ ë£¨í”„ ë°œìƒ! ë°˜ë“œì‹œ WHERE ì ˆë¡œ ì¢…ë£Œ ì¡°ê±´ì„ ëª…ì‹œí•˜ê³ ,
                depthë‚˜ level ì»¬ëŸ¼ìœ¼ë¡œ ìµœëŒ€ ê¹Šì´ ì œí•œì„ ê±¸ì–´ì•¼ í•©ë‹ˆë‹¤. PostgreSQLì€ ê¸°ë³¸ 100íšŒ, SQL ServerëŠ” 100íšŒê°€ ê¸°ë³¸ ì œí•œì…ë‹ˆë‹¤.</p>
            </div>

            <div class="warning-box">
                <div class="warning-title">âš ï¸ ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­</div>
                <p style="color: #fcd34d; margin: 0;">CTEëŠ” ë°ì´í„°ë² ì´ìŠ¤ë§ˆë‹¤ ë™ì‘ì´ ë‹¤ë¦…ë‹ˆë‹¤. PostgreSQL 12 ì´ì „ì—ëŠ” í•­ìƒ êµ¬ì²´í™”(Materialized)ë˜ì–´ ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                MySQL 8.0 ì´ìƒ, SQL Server, Oracleì€ ì˜µí‹°ë§ˆì´ì €ê°€ ì¸ë¼ì¸ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
            </div>

            <div class="warning-box">
                <div class="warning-title">âš ï¸ CTE êµ¬ì²´í™” ì œì–´ (PostgreSQL 12+)</div>
                <p style="color: #fcd34d; margin: 0;"><code>WITH cte AS MATERIALIZED (...)</code> ë˜ëŠ” <code>AS NOT MATERIALIZED (...)</code>ë¡œ
                êµ¬ì²´í™” ì—¬ë¶€ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œëŠ” EXPLAINìœ¼ë¡œ ì‹¤í–‰ê³„íšì„ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
        </section>

        <!-- ê´€ë ¨ ìš©ì–´ -->
        <section class="term-section">
            <h2>ğŸ”— ê´€ë ¨ ìš©ì–´</h2>
            <div class="related-terms">
                <a href="/ko/term/SQL/" class="related-term-tag">SQL</a>
                <a href="/ko/term/Query/" class="related-term-tag">Query</a>
                <a href="/ko/term/%EC%9C%88%EB%8F%84%EC%9A%B0%20%ED%95%A8%EC%88%98/" class="related-term-tag">ìœˆë„ìš° í•¨ìˆ˜</a>
                <a href="/ko/term/Transaction/" class="related-term-tag">Transaction</a>
                <a href="/ko/term/%EC%9D%B8%EB%8D%B1%EC%8A%A4/" class="related-term-tag">ì¸ë±ìŠ¤</a>
                <a href="/ko/term/PostgreSQL/" class="related-term-tag">PostgreSQL</a>
            </div>
        </section>

        <!-- ë” ë°°ìš°ê¸° -->
        <section class="term-section">
            <h2>ğŸ“š ë” ë°°ìš°ê¸°</h2>
            <ul>
                <li><a href="https://www.postgresql.org/docs/current/queries-with.html" target="_blank" rel="noopener" style="color: #a855f7;">PostgreSQL WITH Queries ê³µì‹ ë¬¸ì„œ</a></li>
                <li><a href="https://dev.mysql.com/doc/refman/8.0/en/with.html" target="_blank" rel="noopener" style="color: #a855f7;">MySQL 8.0 CTE ê°€ì´ë“œ</a></li>
                <li><a href="https://learn.microsoft.com/en-us/sql/t-sql/queries/with-common-table-expression-transact-sql" target="_blank" rel="noopener" style="color: #a855f7;">SQL Server CTE ë¬¸ì„œ</a></li>
                <li><a href="https://use-the-index-luke.com/sql/anatomy/slow-indexes" target="_blank" rel="noopener" style="color: #a855f7;">Use The Index, Luke - SQL ì„±ëŠ¥ íŠœë‹</a></li>
            </ul>
        </section>
    </main>

    <!-- Footer -->
        <div id="kaitrust-footer"></div>

    <!-- Scripts -->
    <script>document.getElementById('currentYear').textContent = new Date().getFullYear();</script>
    <script>window.WIA_A11Y_CONFIG = { fabBottom: "38px", fabRight: "30px" };</script>
    <script src="https://wia.live/wia-a11y-toolkit/wia-a11y-toolkit.min.js"></script>
    <script src="/components/ask-ai/kaitrust-ai-modal.js"></script>
    <script src="/components/language-modal/wia-language-modal-211.js"></script>
<script src="/glossary/js/term-sections.js?v=20260130000138"></script>
    <script src="https://kaitrust.ai/components/site-kit/kaitrust-site-kit.js"></script>
    <script src="/kaitrust-i18n.js?v=20260129"></script>
</body>
</html>
